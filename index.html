<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lasttest-Tool VIP</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Theme Variables */
        :root {
            /* Dark Theme (Default) */
            --bg-primary: #181c24;
            --bg-secondary: #23272f;
            --bg-container: rgba(30, 32, 38, 0.7);
            --text-primary: #f3f3f3;
            --text-secondary: #ffffff;
            --border-color: rgba(255, 51, 51, 0.13);
            --shadow-color: rgba(0, 0, 0, 0.25);
            --accent-color: #ff3333;
            --accent-light: #ff6666;
            --input-bg: rgba(24, 26, 32, 0.85);
            --card-bg: rgba(30, 32, 38, 0.85);
        }

        [data-theme="light"] {
            --bg-primary: #181c24;
            --bg-secondary: #23272f;
            --bg-container: rgba(255, 255, 255, 0.9);
            --text-primary: #f3f3f3;
            --text-secondary: #ffffff;
            --border-color: rgba(255, 51, 51, 0.2);
            --shadow-color: rgba(0, 0, 0, 0.1);
            --accent-color: #ff3333;
            --accent-light: #ff6666;
            --input-bg: rgba(255, 255, 255, 0.9);
            --card-bg: rgba(255, 255, 255, 0.9);
        }

        body {
            font-family: 'Inter', system-ui, Arial, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: linear-gradient(120deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
            transition: background 0.7s cubic-bezier(.4,0,.2,1);
            position: relative;
            overflow-x: hidden;
            overflow-y: auto;
        }
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: radial-gradient(circle at 70% 20%, #ff333355 0%, transparent 70%),
                        radial-gradient(circle at 20% 80%, #ff000055 0%, transparent 70%);
            z-index: 0;
            pointer-events: none;
            animation: bgmove 12s linear infinite alternate;
            opacity: 0.5;
        }
        @keyframes bgmove {
            0% { background-position: 70% 20%, 20% 80%; }
            100% { background-position: 60% 30%, 30% 70%; }
        }
        .container {
            max-width: 1200px;
            margin: 32px auto;
            padding: 32px 24px;
            background: var(--bg-container);
            border-radius: 18px;
            box-shadow: 0 8px 32px 0 var(--shadow-color), 0 1.5px 8px 0 #ff000033;
            border: 1.5px solid var(--border-color);
            backdrop-filter: blur(8px);
            position: relative;
            z-index: 1;
            transition: background 0.5s cubic-bezier(.4,0,.2,1), box-shadow 0.5s;
            min-height: calc(100vh - 64px);
        }
        .header {
            background: var(--bg-container);
            padding: 28px 32px 20px 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #ff3333;
            box-shadow: 0 4px 24px 0 rgba(255,0,0,0.08);
            border-radius: 0 0 18px 18px;
            position: relative;
            z-index: 2;
            color: var(--text-primary);
            margin-bottom: 20px;
        }
        .header h1 {
            margin: 0;
            color: #ff3333;
            font-size: 2.1rem;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 2px 8px #ff000033;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .skull-icon {
            font-size: 2.2rem;
            color: #ff3333;
        }
        @keyframes skullGlow {
            0% { text-shadow: none; }
            50% { text-shadow: none; }
            100% { text-shadow: none; }
        }
        .header-buttons {
            display: flex;
            gap: 16px;
        }
        .header button {
            padding: 10px 22px;
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            box-shadow: 0 2px 8px #ff333322;
            transition: background 0.3s, box-shadow 0.3s, transform 0.2s;
        }
        .header button:hover, .header button:focus {
            background: linear-gradient(90deg, #ff6666 0%, #ff3333 100%);
            box-shadow: 0 4px 16px #ff333344;
            transform: translateY(-2px) scale(1.04);
        }
        .credit {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            text-align: center;
            background: rgba(30,32,38,0.85);
            padding: 10px 24px;
            border-radius: 20px;
            border: 1.5px solid #ff333355;
            box-shadow: 0 2px 8px #ff333322;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }
        .credit span {
            color: #ff3333;
            font-weight: bold;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 28px;
            border-bottom: 2px solid #ff333355;
            padding-bottom: 8px;
            position: relative;
            z-index: 2;
            flex-wrap: wrap;
        }
        .tab {
            padding: 12px 28px 10px 28px;
            background: none;
            border: none;
            border-radius: 8px 8px 0 0;
            color: #fff;
            cursor: pointer;
            font-size: 1.05rem;
            font-weight: 600;
            position: relative;
            transition: color 0.3s, background 0.3s;
            outline: none;
            white-space: nowrap;
        }
        .tab.active {
            color: #ff3333;
            background: rgba(255,51,51,0.08);
        }
        .tab.active::after {
            content: '';
            display: block;
            position: absolute;
            left: 20%;
            right: 20%;
            bottom: -8px;
            height: 4px;
            border-radius: 2px;
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            transition: all 0.3s;
        }
        .tab:not(.active):hover {
            color: #ff6666;
            background: rgba(255,51,51,0.04);
        }
        .tab-content {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s cubic-bezier(.4,0,.2,1), transform 0.5s cubic-bezier(.4,0,.2,1);
            position: relative;
            z-index: 2;
        }
        .tab-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
        .tool-container {
            background: var(--card-bg);
            padding: 28px 24px;
            border-radius: 16px;
            border: 1.5px solid var(--border-color);
            margin-bottom: 28px;
            box-shadow: 0 2px 12px #ff333311;
            transition: background 0.4s, box-shadow 0.4s;
            position: relative;
            z-index: 2;
        }
        .tool-container h2 {
            color: #ff3333;
            margin-bottom: 18px;
            font-size: 1.3rem;
            font-weight: 700;
        }
        .form-group {
            margin-bottom: 18px;
        }
        .form-group label {
            display: block;
            color: #ff3333;
            margin-bottom: 7px;
            font-weight: 600;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px 12px;
            border: 1.5px solid var(--border-color);
            border-radius: 7px;
            background-color: var(--input-bg);
            color: var(--text-primary);
            box-sizing: border-box;
            font-size: 1rem;
            margin-bottom: 2px;
            transition: border 0.3s, background 0.3s;
        }
        .form-group input:focus, .form-group select:focus {
            border: 1.5px solid #ff3333;
            background: rgba(24,26,32,0.95);
            outline: none;
        }
        .form-group button {
            padding: 10px 22px;
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            box-shadow: 0 2px 8px #ff333322;
            transition: background 0.3s, box-shadow 0.3s, transform 0.2s;
        }
        .form-group button:hover, .form-group button:focus {
            background: linear-gradient(90deg, #ff6666 0%, #ff3333 100%);
            box-shadow: 0 4px 16px #ff333344;
            transform: translateY(-2px) scale(1.04);
        }
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 6px;
            background-color: rgba(255, 51, 51, 0.08);
            color: #ff3333;
            font-weight: 500;
            font-size: 1rem;
            transition: background 0.3s, color 0.3s;
        }
        .user-list {
            margin-top: 20px;
        }
        .user-card {
            background: var(--card-bg);
            padding: 18px 16px;
            border-radius: 12px;
            border: 1.5px solid var(--border-color);
            margin-bottom: 12px;
            box-shadow: 0 2px 8px #ff333311;
            transition: background 0.4s, box-shadow 0.4s;
        }
        .user-card h3 {
            color: #ff3333;
            margin: 0 0 10px 0;
            font-size: 1.1rem;
            font-weight: 700;
        }
        .user-card p {
            margin: 5px 0;
            color: var(--text-primary);
            font-size: 0.98rem;
        }
        .user-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .user-actions button {
            padding: 7px 14px;
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: white;
            border: none;
            border-radius: 7px;
            cursor: pointer;
            font-size: 0.98em;
            font-weight: 600;
            box-shadow: 0 2px 8px #ff333322;
            transition: background 0.3s, box-shadow 0.3s, transform 0.2s;
        }
        .user-actions button:hover, .user-actions button:focus {
            background: linear-gradient(90deg, #ff6666 0%, #ff3333 100%);
            box-shadow: 0 4px 16px #ff333344;
            transform: translateY(-2px) scale(1.04);
        }
        /* Modal transitions */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s cubic-bezier(.4,0,.2,1);
        }
        .modal.show {
            display: block;
            opacity: 1;
            pointer-events: auto;
        }
        .modal-content {
            position: relative;
            background: var(--bg-container);
            margin: 60px auto;
            padding: 32px 24px;
            width: 90%;
            max-width: 600px;
            border-radius: 16px;
            box-shadow: 0 8px 32px 0 rgba(0,0,0,0.25), 0 1.5px 8px 0 #ff000033;
            border: 1.5px solid var(--border-color);
            backdrop-filter: blur(8px);
            transition: background 0.5s, box-shadow 0.5s;
        }
        .close {
            position: absolute;
            right: 24px;
            top: 24px;
            color: #ff3333;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s;
        }
        .close:hover {
            color: #fff;
        }
        /* VIP badge and tool modernized */
        .vip-badge {
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: white;
            padding: 5px 16px;
            border-radius: 20px;
            font-size: 1em;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: inline-block;
            margin-left: 10px;
            box-shadow: 0 2px 8px #ff333322;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 2px 8px #ff333322; }
            50% { box-shadow: 0 2px 18px #ff333355; }
            100% { box-shadow: 0 2px 8px #ff333322; }
        }
        .vip-tool {
            background: rgba(38, 30, 32, 0.92);
            border: 2px solid #ff3333;
            box-shadow: 0 4px 15px #ff333311;
            border-radius: 16px;
        }
        .vip-tool h2 {
            color: #ff3333;
            text-shadow: 0 0 10px #ff333355;
        }
        .vip-tool button {
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            box-shadow: 0 2px 8px #ff333322;
        }
        .vip-tool button:hover {
            background: linear-gradient(90deg, #ff6666 0%, #ff3333 100%);
            box-shadow: 0 2px 15px #ff333344;
        }
        .vip-purchase-btn {
            background: linear-gradient(90deg, #ffd700 0%, #ffa500 100%) !important;
            color: #000 !important;
            font-weight: bold;
            animation: pulse 2s infinite;
            border-radius: 8px;
        }
        .vip-purchase-btn:hover {
            background: linear-gradient(90deg, #ffa500 0%, #ffd700 100%) !important;
        }
        .result-box {
            background: rgba(30,32,38,0.7);
            border: 1.5px solid #ff333355;
            border-radius: 7px;
            padding: 14px;
            margin-top: 10px;
            color: #fff;
            font-family: monospace;
            word-break: break-all;
            font-size: 1rem;
            box-shadow: 0 1px 4px #ff333311;
        }
        .copy-btn {
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: white;
            border: none;
            border-radius: 7px;
            padding: 7px 14px;
            cursor: pointer;
            margin-left: 10px;
            font-size: 0.98em;
            font-weight: 600;
            box-shadow: 0 2px 8px #ff333322;
            transition: background 0.3s, box-shadow 0.3s, transform 0.2s;
        }
        .copy-btn:hover {
            background: linear-gradient(90deg, #ff6666 0%, #ff3333 100%);
            box-shadow: 0 4px 16px #ff333344;
            transform: translateY(-2px) scale(1.04);
        }
        .currency-select {
            width: 100%;
            padding: 10px 12px;
            border: 1.5px solid #ff333355;
            border-radius: 7px;
            background-color: rgba(24,26,32,0.85);
            color: #fff;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        .currency-select:focus {
            border: 1.5px solid #ff3333;
            background: rgba(24,26,32,0.95);
            outline: none;
        }
        .time-preset {
            background: rgba(30,32,38,0.85);
            border: 1.5px solid #ff333355;
            border-radius: 7px;
            padding: 10px 18px;
            color: #fff;
            cursor: pointer;
            margin: 5px;
            font-size: 1rem;
            font-weight: 500;
            transition: background 0.3s, border 0.3s, color 0.3s;
        }
        .time-preset:hover, .time-preset.active {
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: #fff;
            border: 1.5px solid #ff3333;
        }
        .account-status span {
            font-weight: bold;
            color: #111;
        }
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            opacity: 0.3;
            pointer-events: none;
        }
        .activity-log {
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }
        .activity-item {
            padding: 8px 12px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .activity-time {
            color: #ff3333;
            font-size: 0.9em;
            margin-right: 10px;
        }
        .activity-text {
            color: var(--text-primary);
        }
        .info-group {
            margin-bottom: 15px;
        }
        .info-group label {
            display: block;
            color: #ff3333;
            margin-bottom: 5px;
            font-weight: 600;
        }
        .info-group input {
            width: 100%;
            padding: 8px 12px;
            border: 1.5px solid var(--border-color);
            border-radius: 7px;
            background-color: var(--input-bg);
            color: var(--text-primary);
            font-size: 1rem;
        }
        .grabber-input {
            width: 100%;
            padding: 10px 12px;
            border: 1.5px solid #ff333355;
            border-radius: 7px;
            background-color: rgba(24,26,32,0.85);
            color: #fff;
            font-size: 1rem;
            margin-bottom: 10px;
        }
        .grabbed-ips-list {
            max-height: 300px;
            overflow-y: auto;
            background: rgba(24,26,32,0.85);
            border: 1.5px solid #ff333355;
            border-radius: 7px;
            padding: 10px;
        }
        .ip-entry {
            padding: 8px;
            border-bottom: 1px solid rgba(255,51,51,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .ip-entry:last-child {
            border-bottom: none;
        }
        .ip-info {
            color: #fff;
        }
        .ip-time {
            color: #ff3333;
            font-size: 0.9em;
        }
        .copy-ip-btn {
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.9em;
            margin-left: 10px;
        }
        .copy-ip-btn:hover {
            background: linear-gradient(90deg, #ff6666 0%, #ff3333 100%);
        }
        .color-presets {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .color-preset {
            width: 30px;
            height: 30px;
            border: 2px solid #fff;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .color-preset:hover {
            transform: scale(1.1);
        }
        .reset-color-btn {
            padding: 5px 10px;
            background: rgba(255, 51, 51, 0.1);
            border: 1px solid #ff3333;
            color: #ff3333;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .reset-color-btn:hover {
            background: rgba(255, 51, 51, 0.2);
        }
        /* Keep these elements consistent regardless of theme */
        .header h1, .vip-badge, .skull-icon, .tab.active, .status, .user-card h3, .activity-time, .ip-time, 
        .tool-container h2, .modal-content h2, .modal-content h3, .form-group label, .info-group label {
            color: #ff3333;
        }

        .form-group label, .info-group label {
            color: #ff3333;
            font-weight: 600;
        }

        .tool-container h2 {
            color: #ff3333;
            margin-bottom: 18px;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .modal-content h2, .modal-content h3 {
            color: #ff3333;
            font-weight: 700;
        }

        /* Add these styles */
        .email-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 10px;
        }

        .email-item {
            padding: 8px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .email-item:last-child {
            border-bottom: none;
        }

        .email-text {
            color: var(--text-primary);
            font-family: monospace;
        }

        .email-copy-btn {
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.9em;
            margin-left: 10px;
        }

        .email-copy-btn:hover {
            background: linear-gradient(90deg, #ff6666 0%, #ff3333 100%);
        }

        .vip-sub-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #ff333355;
            padding-bottom: 8px;
        }

        .vip-tab {
            padding: 10px 20px;
            background: none;
            border: none;
            border-radius: 8px 8px 0 0;
            color: #fff;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            position: relative;
            transition: color 0.3s, background 0.3s;
        }

        .vip-tab.active {
            color: #ff3333;
            background: rgba(255,51,51,0.08);
        }

        .vip-tab.active::after {
            content: '';
            display: block;
            position: absolute;
            left: 20%;
            right: 20%;
            bottom: -8px;
            height: 4px;
            border-radius: 2px;
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            transition: all 0.3s;
        }

        .vip-tab:not(.active):hover {
            color: #ff6666;
            background: rgba(255,51,51,0.04);
        }

        .vip-tab-content {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s cubic-bezier(.4,0,.2,1), transform 0.5s cubic-bezier(.4,0,.2,1);
        }

        .vip-tab-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Add these styles */
        .mod-list {
            max-height: 400px;
            overflow-y: auto;
            background: rgba(24,26,32,0.85);
            border: 1.5px solid #ff333355;
            border-radius: 7px;
            padding: 10px;
            margin-top: 10px;
        }

        .mod-item {
            padding: 12px;
            border-bottom: 1px solid rgba(255,51,51,0.1);
            margin-bottom: 8px;
            background: rgba(30,32,38,0.85);
            border-radius: 5px;
            position: relative;
        }

        .mod-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .mod-item p {
            margin: 5px 0;
            color: #fff;
        }

        .mod-item strong {
            color: #ff3333;
        }

        .mod-actions {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
        }

        .mod-actions button {
            background: linear-gradient(90deg, #ff3333 0%, #ff6666 100%);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .mod-actions button:hover {
            background: linear-gradient(90deg, #ff6666 0%, #ff3333 100%);
            transform: translateY(-2px);
        }

        .owner-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .owner-section {
            background: var(--bg-container);
            padding: 20px;
            border-radius: 12px;
            border: 1.5px solid var(--border-color);
        }

        .owner-section h3 {
            color: var(--accent-color);
            margin-top: 0;
            margin-bottom: 15px;
        }

        .owner-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .owner-actions button {
            background: linear-gradient(90deg, var(--accent-color) 0%, var(--accent-light) 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .owner-actions button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 51, 51, 0.3);
        }

        .user-list, .settings-container, .log-container {
            background: var(--input-bg);
            border-radius: 8px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
        }

        /* Add these styles for the checkboxes */
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }

        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(24,26,32,0.85);
            border: 1.5px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox-group label:hover {
            background: rgba(255,51,51,0.1);
            border-color: #ff3333;
        }

        .checkbox-group input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #ff3333;
            border-radius: 4px;
            background: rgba(24,26,32,0.85);
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }

        .checkbox-group input[type="checkbox"]:checked {
            background: #ff3333;
        }

        .checkbox-group input[type="checkbox"]:checked::after {
            content: '✓';
            position: absolute;
            color: white;
            font-size: 14px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .checkbox-group input[type="checkbox"]:hover {
            border-color: #ff6666;
            box-shadow: 0 0 8px rgba(255,51,51,0.3);
        }

        .webhook-designer {
            background: var(--bg-container);
            padding: 20px;
            border-radius: 12px;
            border: 1.5px solid var(--border-color);
            position: relative;
            min-height: 400px;
        }

        .drop-zone {
            position: absolute;
            left: -200px;
            top: 50%;
            transform: translateY(-50%);
            width: 150px;
            height: 150px;
            border: 2px dashed #ff3333;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(24, 26, 32, 0.85);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .drop-zone:hover {
            border-color: #ff6666;
            background: rgba(255, 51, 51, 0.1);
        }

        .drop-zone p {
            color: #ff3333;
            text-align: center;
            font-size: 0.9em;
            padding: 10px;
        }

        .drop-zone.dragover {
            border-color: #ff6666;
            background: rgba(255, 51, 51, 0.2);
            transform: translateY(-50%) scale(1.05);
        }

        .embed-settings {
            display: grid;
            gap: 15px;
            margin-top: 10px;
        }

        .embed-field {
            display: grid;
            gap: 10px;
        }

        .embed-fields {
            margin-top: 15px;
        }

        .embed-fields h4 {
            color: var(--accent-color);
            margin-bottom: 10px;
        }

        .webhook-preview {
            background: #2f3136;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            min-height: 100px;
            color: #fff;
        }

        .webhook-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .webhook-actions button {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .preview-btn {
            background: linear-gradient(90deg, #4CAF50 0%, #45a049 100%);
            color: white;
        }

        .send-btn {
            background: linear-gradient(90deg, #ff3333 0%, #cc0000 100%);
            color: white;
        }

        .save-btn {
            background: linear-gradient(90deg, #2196F3 0%, #1976D2 100%);
            color: white;
        }

        .load-btn {
            background: linear-gradient(90deg, #9C27B0 0%, #7B1FA2 100%);
            color: white;
        }

        .webhook-actions button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .embed-field-item {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 10px;
            margin-bottom: 10px;
            padding: 10px;
            background: var(--input-bg);
            border-radius: 6px;
        }

        .embed-field-item button {
            background: #ff3333;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .add-field-btn {
            background: linear-gradient(90deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <!-- SPA Page Sections -->
    <div id="loginPage" style="display:none">
        <div class="login-container">
            <div class="login-header">
                <h1>Lasttest-Tool VIP</h1>
            </div>
            <form id="loginForm" onsubmit="return handleLogin(event)">
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Passwort:</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="login-button">Einloggen</button>
            </form>
            <div id="loginErrorMessage" class="error-message"></div>
            <div class="login-link">
                Noch kein Konto? <a href="#" onclick="showPage('registerPage')">Hier registrieren</a>
            </div>
        </div>
    </div>
    <div id="registerPage" style="display:none">
        <div class="register-container">
            <div class="register-header">
                <h1>Lasttest-Tool VIP</h1>
            </div>
            <form id="registerForm" onsubmit="return handleRegister(event)">
                <div class="form-group">
                    <label for="registerUsername">Benutzername:</label>
                    <input type="text" id="registerUsername" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email:</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Passwort:</label>
                    <input type="password" id="registerPassword" required>
                </div>
                <div class="form-group">
                    <label for="registerConfirmPassword">Passwort bestätigen:</label>
                    <input type="password" id="registerConfirmPassword" required>
                </div>
                <button type="submit" class="register-button">Registrieren</button>
            </form>
            <div id="registerErrorMessage" class="error-message"></div>
            <div class="login-link">
                Bereits registriert? <a href="#" onclick="showPage('loginPage')">Hier einloggen</a>
            </div>
        </div>
    </div>
    <div id="paymentPage" style="display:none">
        <div class="container">
            <div class="header">
                <h1>VIP Kaufen <span class="vip-badge">Premium</span></h1>
            </div>
            <!-- Payment content can be further merged here if needed -->
            <a href="#" class="back-button" onclick="showPage('dashboardPage')">Zurück zum Dashboard</a>
        </div>
    </div>
    <!-- The rest of your dashboard content remains here, wrapped in <div id="dashboardPage"> ... </div> and shown by default -->
    <div id="dashboardPage">
        <canvas id="matrixCanvas" class="matrix-bg"></canvas>
        <div class="glitch"></div>
        <div class="scanlines"></div>
        <div class="crt"></div>
        <div class="credit">Made by <span>HaloBongo</span></div>
        <div class="header">
            <h1><span class="skull-icon">☠</span>Bongo c2 <span class="vip-badge">VIP</span></h1>
            <div class="header-buttons">
                <button onclick="showAccountModal()">Mein Account</button>
                <button onclick="showVipPurchaseModal()" class="vip-purchase-btn" id="vipPurchaseBtn">VIP Kaufen</button>
                <button onclick="logout()">Logout</button>
            </div>
        </div>
        <div class="container">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('tools')">Tools</div>
                <div class="tab" onclick="switchTab('timechanger')">Timechanger</div>
                <div class="tab" onclick="switchTab('ipgenerator')">IP Generator</div>
                <div class="tab" onclick="switchTab('moneyexchanger')">Money Exchanger</div>
                <div class="tab" onclick="switchTab('settings')">Einstellungen</div>
                <div class="tab" onclick="switchTab('logs')">Logs</div>
                <div class="tab" onclick="switchTab('vip')">VIP</div>
                <div class="tab" onclick="switchTab('admin')" id="adminTab" style="display: none;">Admin</div>
                <div class="tab" onclick="switchTab('mod')" id="modTab" style="display: none;">Mod</div>
                <div class="tab" onclick="switchTab('owner')" id="ownerTab" style="display: none;">Owner</div>
            </div>

            <div id="tools" class="tab-content active">
                <div class="tool-container">
                    <h2>Lasttest Tool</h2>
                    <div class="form-group">
                        <label for="targetIp">Ziel-IP:</label>
                        <input type="text" id="targetIp" placeholder="z.B. 192.168.1.1" onchange="validateTargetIP()">
                        <div id="ipValidation" class="status" style="display: none;"></div>
                    </div>
                    <div class="form-group" id="durationGroup" style="display: none;">
                        <label for="duration">Dauer (Sekunden):</label>
                        <input type="number" id="duration" min="1" max="3600" value="60">
                    </div>
                    <div class="form-group">
                        <button onclick="startLoadTest()">Start</button>
                    </div>
                    <div id="loadTestStatus" class="status"></div>
                </div>

                <div class="tool-container">
                    <h2>Test Statistiken</h2>
                    <div class="form-group">
                        <label>Gesamte Tests:</label>
                        <div id="totalTests">0</div>
                    </div>
                    <div class="form-group">
                        <label>Erfolgreiche Tests:</label>
            <div class="tool-container">
                <h2>Test Statistiken</h2>
                <div class="form-group">
                    <label>Gesamte Tests:</label>
                    <div id="totalTests">0</div>
                </div>
                <div class="form-group">
                    <label>Erfolgreiche Tests:</label>
                    <div id="successfulTests">0</div>
                </div>
                <div class="form-group" id="latencyGroup" style="display: none;">
                    <label>Durchschnittliche Latenz:</label>
                    <div id="averageLatency">0 ms</div>
                </div>
            </div>
        </div>

        <div id="timechanger" class="tab-content">
            <div class="tool-container">
                <h2>Timechanger</h2>
                <div class="form-group">
                    <label>Zeitzone:</label>
                    <select id="timezone" onchange="updateTime()">
                        <option value="UTC">UTC</option>
                        <option value="Europe/Berlin">Berlin (CET)</option>
                        <option value="America/New_York">New York (EST)</option>
                        <option value="Asia/Tokyo">Tokyo (JST)</option>
                        <option value="Australia/Sydney">Sydney (AEST)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Format:</label>
                    <select id="timeFormat" onchange="updateTime()">
                        <option value="24">24-Stunden</option>
                        <option value="12">12-Stunden</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Voreinstellungen:</label>
                    <div>
                        <button class="time-preset" onclick="setTimePreset('now')">Jetzt</button>
                        <button class="time-preset" onclick="setTimePreset('midnight')">Mitternacht</button>
                        <button class="time-preset" onclick="setTimePreset('noon')">Mittag</button>
                        <button class="time-preset" onclick="setTimePreset('random')">Zufällig</button>
                    </div>
                </div>
                <div class="result-box" id="timeResult"></div>
            </div>
        </div>

        <div id="ipgenerator" class="tab-content">
            <div class="tool-container">
                <h2>IP Generator</h2>
                <div class="form-group">
                    <label>IP Adresse eingeben:</label>
                    <input type="text" id="ipInput" placeholder="z.B. 192.168.1.1" onchange="validateIP()">
                    <div id="ipValidation" class="status" style="display: none;"></div>
                </div>
                <div class="form-group">
                    <button onclick="processIP()">IP verarbeiten</button>
                </div>
                <div class="result-box" id="ipResult"></div>
            </div>
        </div>

        <div id="moneyexchanger" class="tab-content">
            <div class="tool-container">
                <h2>Money Exchanger</h2>
                <div class="form-group">
                    <label>Von:</label>
                    <select id="fromCurrency" class="currency-select" onchange="updateExchange()">
                        <option value="EUR">EUR (Euro)</option>
                        <option value="USD">USD (US Dollar)</option>
                        <option value="GBP">GBP (British Pound)</option>
                        <option value="JPY">JPY (Japanese Yen)</option>
                        <option value="BTC">BTC (Bitcoin)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Betrag:</label>
                    <input type="number" id="amount" onchange="updateExchange()" value="1">
                </div>
                <div class="form-group">
                    <label>Nach:</label>
                    <select id="toCurrency" class="currency-select" onchange="updateExchange()">
                        <option value="USD">USD (US Dollar)</option>
                        <option value="EUR">EUR (Euro)</option>
                        <option value="GBP">GBP (British Pound)</option>
                        <option value="JPY">JPY (Japanese Yen)</option>
                        <option value="BTC">BTC (Bitcoin)</option>
                    </select>
                </div>
                <div class="result-box" id="exchangeResult"></div>
            </div>
        </div>

        <div id="settings" class="tab-content">
            <div class="tool-container">
                <h2>Einstellungen</h2>
                <div class="form-group">
                    <label for="theme">Theme:</label>
                    <select id="theme" onchange="changeTheme()">
                        <option value="dark">Dark</option>
                        <option value="light">Light</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="notifications">Benachrichtigungen:</label>
                    <input type="checkbox" id="notifications" onchange="toggleNotifications()">
                </div>
            </div>
        </div>

        <div id="logs" class="tab-content">
            <div class="tool-container">
                <h2>System Logs</h2>
                <div class="form-group">
                    <button onclick="clearLogs()" style="background: linear-gradient(45deg, #ff0000, #cc0000);">Logs löschen</button>
                </div>
                <div id="systemLogs" class="activity-log"></div>
            </div>
        </div>

        <div id="vip" class="tab-content vip-features">
            <div class="vip-sub-tabs">
                <div class="vip-tab active" onclick="switchVipTab('vip-lasttest')">VIP Lasttest</div>
                <div class="vip-tab" onclick="switchVipTab('vip-stats')">VIP Statistiken</div>
                <div class="vip-tab" onclick="switchVipTab('vip-password')">Passwort Generator</div>
                <div class="vip-tab" onclick="switchVipTab('vip-discord')">Discord Tools</div>
            </div>

            <div id="vip-lasttest" class="vip-tab-content active">
                <div class="tool-container vip-tool">
                    <h2>VIP Lasttest Tool</h2>
                    <div class="form-group">
                        <label for="vipTargetIp">Ziel-IP:</label>
                        <input type="text" id="vipTargetIp" placeholder="z.B. 192.168.1.1" onchange="validateVipTargetIP()">
                        <div id="vipIpValidation" class="status" style="display: none;"></div>
                    </div>
                    <div class="form-group">
                        <label for="vipDuration">Dauer (Sekunden):</label>
                        <input type="number" id="vipDuration" min="1" max="7200" value="120">
                    </div>
                    <div class="form-group">
                        <label for="vipThreads">Anzahl Threads:</label>
                        <input type="number" id="vipThreads" min="1" max="100" value="10">
                    </div>
                    <div class="form-group">
                        <label for="vipMethod">Methode:</label>
                        <select id="vipMethod">
                            <option value="GET">GET</option>
                            <option value="POST">POST</option>
                            <option value="HEAD">HEAD</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button onclick="startVipLoadTest()">VIP Lasttest Starten</button>
                    </div>
                    <div id="vipLoadTestStatus" class="status"></div>
                </div>
            </div>

            <div id="vip-stats" class="vip-tab-content">
                <div class="tool-container vip-tool">
                    <h2>VIP Statistiken</h2>
                    <div class="form-group">
                        <label>Gesamte Tests:</label>
                        <div id="vipTotalTests">0</div>
                    </div>
                    <div class="form-group">
                        <label>Erfolgreiche Tests:</label>
                        <div id="vipSuccessfulTests">0</div>
                    </div>
                    <div class="form-group">
                        <label>Durchschnittliche Latenz:</label>
                        <div id="vipAverageLatency">0 ms</div>
                    </div>
                </div>
            </div>

            <div id="vip-password" class="vip-tab-content">
                <div class="tool-container vip-tool">
                    <h2>VIP Passwort Generator</h2>
                    <div class="form-group">
                        <label for="passLength">Passwort Länge:</label>
                        <input type="number" id="passLength" min="8" max="32" value="16">
                    </div>
                    <div class="form-group">
                        <label>Optionen:</label>
                        <div class="checkbox-group">
                            <label>
                                <input type="checkbox" id="useUppercase" checked> Großbuchstaben
                            </label>
                            <label>
                                <input type="checkbox" id="useNumbers" checked> Zahlen
                            </label>
                            <label>
                                <input type="checkbox" id="useSpecial" checked> Sonderzeichen
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <button onclick="generateSimplePassword()">Passwort generieren</button>
                    </div>
                    <div id="passwordResult" style="display: none;">
                        <div class="result-box" id="generatedPassword"></div>
                        <div class="form-group">
                            <button onclick="copyGeneratedPassword()">Passwort kopieren</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="vip-discord" class="vip-tab-content">
                <div class="tool-container vip-tool">
                    <h2>Discord Tools</h2>
                    
                    <div class="form-group">
                        <label for="webhookUrl">Discord Webhook URL:</label>
                        <input type="text" id="webhookUrl" placeholder="https://discord.com/api/webhooks/..." class="grabber-input">
                    </div>

                    <div class="form-group">
                        <label>Webhook Test:</label>
                        <button onclick="testWebhook()">Webhook testen</button>
                        <div id="webhookStatus" class="status"></div>
                    </div>

                    <div class="form-group">
                        <label>Webhook Deleter:</label>
                        <button onclick="deleteWebhook()">Webhook löschen</button>
                        <div id="deleteStatus" class="status"></div>
                    </div>

                    <div class="form-group">
                        <label>Token Checker:</label>
                        <input type="text" id="tokenInput" placeholder="Discord Token" class="grabber-input">
                        <button onclick="checkToken()">Token prüfen</button>
                        <div id="tokenStatus" class="status"></div>
                    </div>

                    <div class="form-group">
                        <label>Token Info:</label>
                        <div id="tokenInfo" class="result-box"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="admin" class="tab-content" style="display: none;">
            <div class="vip-sub-tabs">
                <div class="vip-tab active" onclick="switchAdminTab('admin-account')">Account</div>
                <div class="vip-tab" onclick="switchAdminTab('admin-users')">User Management</div>
                <div class="vip-tab" onclick="switchAdminTab('admin-stats')">Statistics</div>
                <div class="vip-tab" onclick="switchAdminTab('admin-logs')">Activity Logs</div>
            </div>

            <div id="admin-account" class="vip-tab-content active">
                <div class="tool-container">
                    <h2>Account Information</h2>
                    <div class="form-group">
                        <label>Benutzername:</label>
                        <input type="text" id="adminUsername" readonly>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="text" id="adminEmail" readonly>
                    </div>
                    <div class="form-group">
                        <label>Status:</label>
                        <div id="adminStatus" style="color: #ff3333; font-weight: bold;">Administrator</div>
                    </div>
                </div>
            </div>

            <div id="admin-users" class="vip-tab-content">
                <div class="tool-container">
                    <h2>User Management</h2>
                    <div class="form-group">
                        <input type="text" id="adminUserSearch" placeholder="Benutzer suchen..." onkeyup="searchUsers()">
                    </div>
                    <div id="adminUserList" class="user-list"></div>
                </div>
            </div>

            <div id="admin-stats" class="vip-tab-content">
                <div class="tool-container">
                    <h2>System Overview</h2>
                    <div class="form-group">
                        <label>Gesamte Benutzer:</label>
                        <div id="totalUsers">0</div>
                    </div>
                    <div class="form-group">
                        <label>VIP Benutzer:</label>
                        <div id="totalVipUsers">0</div>
                    </div>
                    <div class="form-group">
                        <label>Moderatoren:</label>
                        <div id="totalMods">0</div>
                    </div>
                </div>
            </div>

            <div id="admin-logs" class="vip-tab-content">
                <div class="tool-container">
                    <h2>Activity Logs</h2>
                    <div id="adminActivityLog" class="activity-log"></div>
                </div>
            </div>
        </div>

        <!-- Mod Panel -->
        <div id="mod" class="tab-content" style="display: none;">
            <div class="vip-sub-tabs">
                <div class="vip-tab active" onclick="switchModTab('mod-account')">Account</div>
                <div class="vip-tab" onclick="switchModTab('mod-users')">User Management</div>
                <div class="vip-tab" onclick="switchModTab('mod-logs')">Activity Logs</div>
            </div>

            <div id="mod-account" class="vip-tab-content active">
                <div class="tool-container">
                    <h2>Account Information</h2>
                    <div class="form-group">
                        <label>Benutzername:</label>
                        <input type="text" id="modUsername" readonly>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="text" id="modEmail" readonly>
                    </div>
                    <div class="form-group">
                        <label>Status:</label>
                        <div id="modStatus" style="color: #ff3333; font-weight: bold;"></div>
                    </div>
                </div>
            </div>

            <div id="mod-users" class="vip-tab-content">
                <div class="tool-container">
                    <h2>User Management</h2>
                    <div class="form-group">
                        <input type="text" id="modUserSearch" placeholder="Benutzer suchen..." onkeyup="searchModUsers()">
                    </div>
                    <div id="modUserList" class="user-list"></div>
                </div>
            </div>

            <div id="mod-logs" class="vip-tab-content">
                <div class="tool-container">
                    <h2>Activity Logs</h2>
                    <div id="modActivityLog" class="activity-log"></div>
                </div>
            </div>
        </div>

        <!-- Owner Panel -->
        <div id="owner" class="tab-content" style="display: none;">
            <div class="vip-sub-tabs">
                <div class="vip-tab active" onclick="switchOwnerTab('owner-account')">Account</div>
                <div class="vip-tab" onclick="switchOwnerTab('owner-users')">User Management</div>
                <div class="vip-tab" onclick="switchOwnerTab('owner-settings')">Settings</div>
                <div class="vip-tab" onclick="switchOwnerTab('owner-activity')">Activity Log</div>
                <div class="vip-tab" onclick="switchOwnerTab('owner-commands')">Commands</div>
                <div class="vip-tab" onclick="switchOwnerTab('owner-webhook')">Webhook Designer</div>
            </div>

            <div id="owner-account" class="vip-tab-content active">
                <div class="tool-container">
                    <h2>Account Information</h2>
                    <div class="form-group">
                        <label>Benutzername:</label>
                        <input type="text" id="ownerUsername" readonly>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="text" id="ownerEmail" readonly>
                    </div>
                    <div class="form-group">
                        <label>Status:</label>
                        <div id="ownerStatus" style="color: #ff3333; font-weight: bold;">Owner</div>
                    </div>
                </div>
            </div>

            <div id="owner-users" class="vip-tab-content">
                <div class="tool-container">
                    <h2>User Management</h2>
                    <div class="owner-actions">
                        <button onclick="showAllUsers()">Alle Benutzer</button>
                        <button onclick="showAdminUsers()">Admin Benutzer</button>
                        <button onclick="showModUsers()">Mod Benutzer</button>
                        <button onclick="showVipUsers()">VIP Benutzer</button>
                    </div>
                    <div id="ownerUserList" class="user-list"></div>
                </div>
            </div>

            <div id="owner-settings" class="vip-tab-content">
                <div class="tool-container">
                    <h2>System Settings</h2>
                    <div class="owner-actions">
                        <button onclick="showSystemSettings()">System Einstellungen</button>
                        <button onclick="showPaymentSettings()">Zahlungseinstellungen</button>
                        <button onclick="showSecuritySettings()">Sicherheitseinstellungen</button>
                    </div>
                    <div id="ownerSettings" class="settings-container"></div>
                </div>
            </div>

            <div id="owner-logs" class="vip-tab-content">
                <div class="tool-container">
                    <h2>Activity Logs</h2>
                    <div class="owner-actions">
                        <button onclick="showAllLogs()">Alle Logs</button>
                        <button onclick="showAdminLogs()">Admin Logs</button>
                        <button onclick="showModLogs()">Mod Logs</button>
                        <button onclick="showUserLogs()">Benutzer Logs</button>
                    </div>
                    <div id="ownerLogs" class="log-container"></div>
                </div>
            </div>

            <div id="owner-time" class="vip-tab-content">
                <div class="tool-container">
                    <h2>Time Tracker</h2>
                    <div class="form-group">
                        <label>Start Date:</label>
                        <input type="date" id="startDatePicker" onchange="updateStartDate()" style="width: 100%; padding: 10px; margin: 10px 0; background: var(--input-bg); color: var(--text-primary); border: 1.5px solid var(--border-color); border-radius: 7px;">
                    </div>
                    <div class="form-group">
                        <label>Current Date:</label>
                        <div id="currentDate" style="font-size: 1.2em; color: #ff3333; margin: 10px 0;"></div>
                    </div>
                    <div class="form-group">
                        <label>Time Elapsed:</label>
                        <div id="timeElapsed" style="margin: 10px 0;">
                            <div>Days: <span id="daysCount" style="color: #ff3333;">0</span></div>
                            <div>Weeks: <span id="weeksCount" style="color: #ff3333;">0</span></div>
                            <div>Months: <span id="monthsCount" style="color: #ff3333;">0</span></div>
                            <div>Years: <span id="yearsCount" style="color: #ff3333;">0</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="owner-webhook" class="vip-tab-content">
                <div class="tool-container">
                    <h2>Webhook Designer</h2>
                    <div class="webhook-designer">
                        <div class="form-group">
                            <label>Webhook URL:</label>
                            <input type="text" id="webhookDesignerUrl" placeholder="Discord Webhook URL" class="grabber-input">
                        </div>
                        <div class="form-group">
                            <label>Message Content:</label>
                            <textarea id="webhookContent" placeholder="Enter message content" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Username:</label>
                            <input type="text" id="webhookUsername" placeholder="Custom username">
                        </div>
                        <div class="form-group">
                            <label>Avatar URL:</label>
                            <input type="text" id="webhookAvatar" placeholder="Avatar image URL">
                        </div>
                        <div id="avatarDropZone" class="drop-zone" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                            <p>Drag and drop an image here</p>
                        </div>
                        <div class="form-group">
                            <label>Embed Settings:</label>
                            <div class="embed-settings">
                                <div class="embed-field">
                                    <input type="text" id="embedTitle" placeholder="Embed Title">
                                    <input type="text" id="embedDescription" placeholder="Embed Description">
                                    <input type="color" id="embedColor" value="#ff3333">
                                    <input type="text" id="embedImage" placeholder="Embed Image URL">
                                    <input type="text" id="embedThumbnail" placeholder="Thumbnail URL">
                                </div>
                                <div class="embed-fields">
                                    <h4>Fields</h4>
                                    <div id="embedFieldsList"></div>
                                    <button onclick="addEmbedField()" class="add-field-btn">Add Field</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Preview:</label>
                            <div id="webhookPreview" class="webhook-preview"></div>
                        </div>
                        <div class="webhook-actions">
                            <button onclick="previewWebhook()" class="preview-btn">Preview</button>
                            <button onclick="sendWebhook()" class="send-btn">Send</button>
                            <button onclick="saveWebhookTemplate()" class="save-btn">Save Template</button>
                            <button onclick="loadWebhookTemplates()" class="load-btn">Load Template</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Account Modal -->
    <div id="accountModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAccountModal()">&times;</span>
            <h2>Mein Account</h2>
            <div class="form-group">
                <label>Benutzername:</label>
                <input type="text" id="accountUsername" readonly>
            </div>
            <div class="form-group">
                <label>Email:</label>
                <input type="text" id="accountEmail" readonly>
            </div>
            <div class="form-group">
                <label>Status:</label>
                <div id="accountStatus" style="color: #ff3333; font-weight: bold;"></div>
            </div>
            <div class="form-group">
                <h3>Aktivitätsprotokoll</h3>
                <div id="activityLog" class="activity-log"></div>
            </div>
        </div>
    </div>

    <!-- VIP Purchase Modal -->
    <div id="vipPurchaseModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeVipPurchaseModal()">&times;</span>
            <h2>VIP Kaufen</h2>
            <div class="form-group">
                <label>VIP Vorteile:</label>
                <ul style="color: var(--text-primary);">
                    <li>Erweiterte Lasttest-Funktionen</li>
                    <li>Detaillierte Statistiken</li>
                    <li>Passwort Generator</li>
                    <li>Prioritäts-Support</li>
                </ul>
            </div>
            <div class="form-group">
                <label>Preis: 0.01 LTC</label>
            </div>
            <div class="form-group">
                <label>Litecoin Adresse:</label>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="ltcAddress" readonly value="LajVUh9eAzh1zTsph4LrRG1fQ4eyyk9vfg" style="flex: 1;">
                    <button onclick="copyLtcAddress()">Kopieren</button>
                </div>
            </div>
            <div class="form-group">
                <button onclick="confirmVipPurchase()">Kauf bestätigen</button>
            </div>
        </div>
    </div>

    <script>
        // Matrix background effect
        const canvas = document.getElementById('matrixCanvas');
        const ctx = canvas.getContext('2d');

        // Set canvas size to window size
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Matrix characters
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()';
        const charArray = chars.split('');
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = [];

        // Initialize drops
        for (let i = 0; i < columns; i++) {
            drops[i] = 1;
        }

        // Draw matrix effect
        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#ff3333';
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = charArray[Math.floor(Math.random() * charArray.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }

        // Run matrix animation
        setInterval(drawMatrix, 33);

        // Check if user is logged in
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        if (!currentUser) {
            showPage('loginPage');
        }

        // Initialize default accounts if not exists
        function initializeDefaultAccounts() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            
            // Admin accounts
            const adminAccounts = [
                { username: 'admin1', email: 'admin1@admin.com', password: 'Admin123!', isAdmin: true, isMod: true, isVip: true },
                { username: 'admin2', email: 'admin2@admin.com', password: 'Admin456!', isAdmin: true, isMod: true, isVip: true }
            ];

            // Mod accounts
            const modAccounts = [
                { username: 'mod1', email: 'mod1@mod.com', password: 'Mod123!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod2', email: 'mod2@mod.com', password: 'Mod456!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod3', email: 'mod3@mod.com', password: 'Mod789!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod4', email: 'mod4@mod.com', password: 'Mod101!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod5', email: 'mod5@mod.com', password: 'Mod202!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod6', email: 'mod6@mod.com', password: 'Mod303!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod7', email: 'mod7@mod.com', password: 'Mod404!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod8', email: 'mod8@mod.com', password: 'Mod505!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod9', email: 'mod9@mod.com', password: 'Mod606!', isAdmin: false, isMod: true, isVip: true },
                { username: 'mod10', email: 'mod10@mod.com', password: 'Mod707!', isAdmin: false, isMod: true, isVip: true }
            ];

            // Add admin accounts if they don't exist
            adminAccounts.forEach(admin => {
                if (!users.some(user => user.email === admin.email)) {
                    users.push(admin);
                }
            });

            // Add mod accounts if they don't exist
            modAccounts.forEach(mod => {
                if (!users.some(user => user.email === mod.email)) {
                    users.push(mod);
                }
            });

            // Save updated users list
            localStorage.setItem('users', JSON.stringify(users));
        }

        // Call initialization on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeDefaultAccounts();
            checkUserAccess();
            
            // Initialize user list if admin
            if (currentUser.isAdmin) {
                searchUsers();
            }
            
            // Initialize mod panel if mod or admin
            if (currentUser.isMod || currentUser.isAdmin) {
                searchModUsers();
            }
        });

        // Update login function to handle mod/admin accounts
        function login(email, password) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                // Store current user info
                const currentUser = {
                    username: user.username,
                    email: user.email,
                    isAdmin: user.isAdmin || false,
                    isMod: user.isMod || false,
                    isVip: user.isVip || false
                };
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                // Log activity
                logActivity(`Benutzer ${user.username} eingeloggt`);
                
                // Redirect to main page
                showPage('dashboardPage');
            } else {
                alert('Ungültige Anmeldedaten!');
            }
        }

        // Update checkUserAccess function
        function checkUserAccess() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) {
                showPage('loginPage');
                return;
            }

            // Show/hide tabs based on user role
            const adminTab = document.getElementById('adminTab');
            const modTab = document.getElementById('modTab');
            const ownerTab = document.getElementById('ownerTab');

            if (adminTab) adminTab.style.display = (currentUser.isAdmin || currentUser.isOwner) ? 'block' : 'none';
            if (modTab) modTab.style.display = (currentUser.isMod || currentUser.isAdmin || currentUser.isOwner) ? 'block' : 'none';
            if (ownerTab) ownerTab.style.display = currentUser.isOwner ? 'block' : 'none';
            
            // Show VIP content if user is VIP
            if (currentUser.isVip) {
                document.getElementById('vip').style.display = 'block';
            } else {
                document.getElementById('vip').style.display = 'none';
            }

            // Initialize panels based on user role
            if (currentUser.isOwner) {
                showAllUsers();
                showSystemSettings();
                showAllLogs();
                updateOwnerPanel();
            }
            if (currentUser.isAdmin || currentUser.isMod) {
                searchModUsers();
                updateModPanel();
            }
        }

        // Update the account modal to show correct status
        function updateAccountModal() {
            const status = document.getElementById('status');
            if (status) {
                status.textContent = currentUser.isVip ? 'VIP' : 'Standard';
                status.style.color = currentUser.isVip ? '#ff3333' : '#fff';
            }
        }

        // Call this when opening the account modal
        document.getElementById('accountBtn').addEventListener('click', updateAccountModal);

        // Tab switching
        function switchTab(tabId) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
                tab.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.classList.add('active');
                selectedTab.style.display = 'block';
                
                // Initialize specific tab content
                if (tabId === 'owner') {
                    updateOwnerPanel();
                } else if (tabId === 'mod') {
                    updateModPanel();
                } else if (tabId === 'admin') {
                    updateAdminPanel();
                }
            }
            
            // Add active class to selected tab
            const selectedTabButton = document.querySelector(`.tab[onclick="switchTab('${tabId}')"]`);
            if (selectedTabButton) {
                selectedTabButton.classList.add('active');
            }
            
            // Update URL hash
            window.location.hash = tabId;
            
            // Update page title
            document.title = `Lasttest-Tool VIP - ${tabId.charAt(0).toUpperCase() + tabId.slice(1)}`;

            // Update logs if switching to logs tab
            if (tabId === 'logs') {
                updateLogsDisplay();
            }
        }

        // Load test functions
        function validateTargetIP() {
            const ipInput = document.getElementById('targetIp').value;
            const validationDiv = document.getElementById('ipValidation');
            
            // IPv4 validation regex
            const ipv4Regex = /^(\d{1,3}\.){3}\d{1,3}$/;
            // IPv6 validation regex
            const ipv6Regex = /^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;
            
            if (!ipInput) {
                validationDiv.style.display = 'none';
                return false;
            }
            
            if (ipv4Regex.test(ipInput)) {
                const parts = ipInput.split('.');
                const isValid = parts.every(part => parseInt(part) >= 0 && parseInt(part) <= 255);
                if (isValid) {
                    validationDiv.textContent = 'Gültige IPv4 Adresse';
                    validationDiv.style.color = '#00ff00';
                    validationDiv.style.display = 'block';
                    return true;
                }
            } else if (ipv6Regex.test(ipInput)) {
                validationDiv.textContent = 'Gültige IPv6 Adresse';
                validationDiv.style.color = '#00ff00';
                validationDiv.style.display = 'block';
                return true;
            }
            
            validationDiv.textContent = 'Ungültige IP Adresse';
            validationDiv.style.color = '#ff0000';
            validationDiv.style.display = 'block';
            return false;
        }

        function startLoadTest() {
            const targetIp = document.getElementById('targetIp').value;
            const duration = currentUser.isVip || currentUser.isAdmin ? 
                document.getElementById('duration').value : 60;
            
            if (!validateTargetIP()) {
                alert('Bitte geben Sie eine gültige IP Adresse ein.');
                return;
            }
            
            const status = document.getElementById('loadTestStatus');
            status.textContent = `Lasttest läuft für IP: ${targetIp}...`;
            
            // Simulate load test
            setTimeout(() => {
                const success = Math.random() > 0.1; // 90% success rate
                if (success) {
                    status.textContent = `Lasttest für ${targetIp} erfolgreich abgeschlossen!`;
                    updateStats();
                    logActivity(`Lasttest durchgeführt für IP: ${targetIp}`);
                } else {
                    status.textContent = `Lasttest für ${targetIp} fehlgeschlagen!`;
                    logActivity(`Lasttest fehlgeschlagen für IP: ${targetIp}`);
                }
            }, duration * 1000);
        }

        function updateStats() {
            const totalTests = parseInt(localStorage.getItem('totalTests')) || 0;
            const successfulTests = parseInt(localStorage.getItem('successfulTests')) || 0;
            const averageLatency = parseInt(localStorage.getItem('averageLatency')) || 0;

            localStorage.setItem('totalTests', totalTests + 1);
            localStorage.setItem('successfulTests', successfulTests + 1);
            localStorage.setItem('averageLatency', Math.floor(Math.random() * 100) + 50);

            document.getElementById('totalTests').textContent = totalTests + 1;
            document.getElementById('successfulTests').textContent = successfulTests + 1;
            if (currentUser.isVip || currentUser.isAdmin) {
                document.getElementById('averageLatency').textContent = 
                    (Math.floor(Math.random() * 100) + 50) + ' ms';
            }
        }

        // Initialize stats
        updateStats();

        // Settings functions
        function changeTheme() {
            const theme = document.getElementById('theme').value;
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            logActivity(`Theme geändert zu: ${theme}`);
        }

        function toggleNotifications() {
            const notifications = document.getElementById('notifications').checked;
            // Implement notifications toggle
            logActivity('Benachrichtigungen ' + (notifications ? 'aktiviert' : 'deaktiviert'));
        }

        // Admin functions
        function searchUsers() {
            const searchTerm = document.getElementById('userSearch').value.toLowerCase();
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userList = document.getElementById('userList');
            
            // Filter users based on search term
            const filteredUsers = users.filter(user => 
                user.username.toLowerCase().includes(searchTerm) ||
                user.email.toLowerCase().includes(searchTerm)
            );
            
            // Generate HTML for user list
            userList.innerHTML = filteredUsers.map(user => `
                <div class="user-card">
                    <h3>${user.username}</h3>
                    <p>Email: ${user.email}</p>
                    <p>Status: ${user.isAdmin ? 'Admin' : user.isVip ? 'VIP' : 'Normal'}</p>
                    <p>Gesperrt: ${user.isBanned ? 'Ja' : 'Nein'}</p>
                    <div class="user-actions">
                        <button onclick="toggleVip('${user.email}')" ${user.isAdmin ? 'disabled' : ''}>
                            ${user.isVip ? 'VIP entfernen' : 'VIP hinzufügen'}
                        </button>
                        <button onclick="toggleBan('${user.email}')" ${user.isAdmin ? 'disabled' : ''}>
                            ${user.isBanned ? 'Entsperren' : 'Sperren'}
                        </button>
                        <button onclick="deleteUser('${user.email}')" ${user.isAdmin ? 'disabled' : ''}>
                            Löschen
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function toggleVip(email) {
            if (!currentUser.isAdmin) {
                alert('Nur Administratoren können VIP-Status ändern!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht als VIP markiert werden!');
                    return;
                }
                
                user.isVip = !user.isVip;
                localStorage.setItem('users', JSON.stringify(users));
                
                // Log the activity
                logActivity(`VIP-Status für ${user.username} ${user.isVip ? 'aktiviert' : 'deaktiviert'}`);
                
                // Update the user list
                searchUsers();
                
                // Show confirmation
                alert(`VIP-Status für ${user.username} ${user.isVip ? 'aktiviert' : 'deaktiviert'}`);
            }
        }

        function toggleBan(email) {
            if (!currentUser.isAdmin) {
                alert('Nur Administratoren können Benutzer sperren!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht gesperrt werden!');
                    return;
                }
                
                user.isBanned = !user.isBanned;
                localStorage.setItem('users', JSON.stringify(users));
                
                // Log the activity
                logActivity(`Benutzer ${user.username} ${user.isBanned ? 'gesperrt' : 'entsperrt'}`);
                
                // Update the user list
                searchUsers();
                
                // Show confirmation
                alert(`Benutzer ${user.username} ${user.isBanned ? 'gesperrt' : 'entsperrt'}`);
            }
        }

        function deleteUser(email) {
            if (!currentUser.isAdmin) {
                alert('Nur Administratoren können Benutzer löschen!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht gelöscht werden!');
                    return;
                }
                
                if (confirm(`Möchten Sie den Benutzer ${user.username} wirklich löschen?`)) {
                    const index = users.indexOf(user);
                    users.splice(index, 1);
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`Benutzer ${user.username} gelöscht`);
                    
                    // Update the user list
                    searchUsers();
                    
                    // Show confirmation
                    alert(`Benutzer ${user.username} wurde gelöscht`);
                }
            }
        }

        function resetAllVipUsers() {
            if (!currentUser.isAdmin) {
                alert('Nur Administratoren können VIP-Status zurücksetzen!');
                return;
            }

            if (confirm('Möchten Sie wirklich alle VIP-Status zurücksetzen?')) {
                const users = JSON.parse(localStorage.getItem('users')) || [];
                
                // Reset VIP status for all non-admin users
                users.forEach(user => {
                    if (!user.isAdmin) {
                        user.isVip = false;
                    }
                });
                
                localStorage.setItem('users', JSON.stringify(users));
                
                // Log the activity
                logActivity('Alle VIP-Status wurden zurückgesetzt');
                
                // Update the user list
                searchUsers();
                
                // Show confirmation
                alert('Alle VIP-Status wurden zurückgesetzt');
            }
        }

        function updateLtcAddress() {
            const newAddress = document.getElementById('ltcAddress').value;
            if (!newAddress) {
                alert('Bitte geben Sie eine gültige Litecoin Adresse ein');
                return;
            }
            
            localStorage.setItem('ltcPaymentAddress', newAddress);
            document.getElementById('lastLtcUpdate').textContent = new Date().toLocaleString('de-DE');
            logActivity(`Litecoin Zahlungsadresse aktualisiert: ${newAddress}`);
            alert('Litecoin Adresse erfolgreich aktualisiert!');
        }

        // Load LTC address on page load
        window.onload = function() {
            const savedAddress = localStorage.getItem('ltcPaymentAddress') || 'LajVUh9eAzh1zTsph4LrRG1fQ4eyyk9vfg';
            document.getElementById('ltcAddress').value = savedAddress;
            document.getElementById('lastLtcUpdate').textContent = localStorage.getItem('lastLtcUpdate') || '-';
        };

        // VIP Load Test Functions
        function validateVipTargetIP() {
            const ipInput = document.getElementById('vipTargetIp').value;
            const validationDiv = document.getElementById('vipIpValidation');
            
            // IPv4 validation regex
            const ipv4Regex = /^(\d{1,3}\.){3}\d{1,3}$/;
            // IPv6 validation regex
            const ipv6Regex = /^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;
            
            if (!ipInput) {
                validationDiv.style.display = 'none';
                return false;
            }
            
            if (ipv4Regex.test(ipInput)) {
                const parts = ipInput.split('.');
                const isValid = parts.every(part => parseInt(part) >= 0 && parseInt(part) <= 255);
                if (isValid) {
                    validationDiv.textContent = 'Gültige IPv4 Adresse';
                    validationDiv.style.color = '#00ff00';
                    validationDiv.style.display = 'block';
                    return true;
                }
            } else if (ipv6Regex.test(ipInput)) {
                validationDiv.textContent = 'Gültige IPv6 Adresse';
                validationDiv.style.color = '#00ff00';
                validationDiv.style.display = 'block';
                return true;
            }
            
            validationDiv.textContent = 'Ungültige IP Adresse';
            validationDiv.style.color = '#ff0000';
            validationDiv.style.display = 'block';
            return false;
        }

        function startVipLoadTest() {
            const targetIp = document.getElementById('vipTargetIp').value;
            const duration = document.getElementById('vipDuration').value;
            const threads = document.getElementById('vipThreads').value;
            const method = document.getElementById('vipMethod').value;
            
            if (!validateVipTargetIP()) {
                alert('Bitte geben Sie eine gültige IP Adresse ein.');
                return;
            }
            
            const status = document.getElementById('vipLoadTestStatus');
            status.textContent = `VIP Lasttest läuft für IP: ${targetIp} mit ${threads} Threads...`;
            
            // Simulate VIP load test
            setTimeout(() => {
                const success = Math.random() > 0.05; // 95% success rate for VIP
                if (success) {
                    status.textContent = `VIP Lasttest für ${targetIp} erfolgreich abgeschlossen!`;
                    updateVipStats();
                    logActivity(`VIP Lasttest durchgeführt für IP: ${targetIp} mit ${threads} Threads`);
                } else {
                    status.textContent = `VIP Lasttest für ${targetIp} fehlgeschlagen!`;
                    logActivity(`VIP Lasttest fehlgeschlagen für IP: ${targetIp}`);
                }
            }, duration * 1000);
        }

        function updateVipStats() {
            const vipTotalTests = parseInt(localStorage.getItem('vipTotalTests')) || 0;
            const vipSuccessfulTests = parseInt(localStorage.getItem('vipSuccessfulTests')) || 0;
            const vipAverageLatency = parseInt(localStorage.getItem('vipAverageLatency')) || 0;

            localStorage.setItem('vipTotalTests', vipTotalTests + 1);
            localStorage.setItem('vipSuccessfulTests', vipSuccessfulTests + 1);
            localStorage.setItem('vipAverageLatency', Math.floor(Math.random() * 100) + 50);

            document.getElementById('vipTotalTests').textContent = vipTotalTests + 1;
            document.getElementById('vipSuccessfulTests').textContent = vipSuccessfulTests + 1;
            document.getElementById('vipAverageLatency').textContent = 
                (Math.floor(Math.random() * 100) + 50) + ' ms';
        }

        // Account Modal Functions
        function showAccountModal() {
            const modal = document.getElementById('accountModal');
            if (!modal) return;
            
            modal.style.display = 'block';
            modal.classList.add('show');
            
            // Update account information
            document.getElementById('accountUsername').value = currentUser.username;
            document.getElementById('accountEmail').value = currentUser.email;
            
            // Update account status
            const accountStatus = document.getElementById('accountStatus');
            if (accountStatus) {
                accountStatus.textContent = currentUser.isAdmin ? 'Administrator' : 
                                          currentUser.isVip ? 'VIP' : 'Standard';
                accountStatus.style.color = currentUser.isAdmin ? '#ff3333' : 
                                          currentUser.isVip ? '#ff3333' : '#fff';
            }
            
            // Load activity log
            const activityLog = document.getElementById('activityLog');
            if (activityLog) {
                const activities = JSON.parse(localStorage.getItem('activities')) || [];
                activityLog.innerHTML = activities.map(activity => `
                    <div class="activity-item">
                        <span class="activity-time">${activity.time}</span>
                        <span class="activity-text">${activity.text}</span>
                    </div>
                `).join('');
            }
        }

        function closeAccountModal() {
            const modal = document.getElementById('accountModal');
            if (modal) {
                modal.style.display = 'none';
                modal.classList.remove('show');
            }
        }

        // VIP Purchase Functions
        function showVipPurchaseModal() {
            // Check if user is already VIP
            if (currentUser.isVip) {
                alert('Sie sind bereits VIP!');
                return;
            }
            
            // Check if user is admin
            if (currentUser.isAdmin) {
                alert('Administratoren haben bereits alle VIP-Funktionen!');
                return;
            }

            const modal = document.getElementById('vipPurchaseModal');
            if (modal) {
                modal.style.display = 'block';
                modal.classList.add('show');
            }
        }

        function closeVipPurchaseModal() {
            const modal = document.getElementById('vipPurchaseModal');
            if (modal) {
                modal.style.display = 'none';
                modal.classList.remove('show');
            }
        }

        function copyLtcAddress() {
            const ltcAddress = document.getElementById('ltcAddress').value;
            navigator.clipboard.writeText(ltcAddress).then(() => {
                alert('Litecoin Adresse kopiert!');
            }).catch(err => {
                console.error('Fehler beim Kopieren:', err);
            });
        }

        function confirmVipPurchase() {
            if (confirm('Möchten Sie den VIP-Kauf bestätigen? Bitte senden Sie die Zahlung an die angegebene Litecoin Adresse.')) {
                localStorage.setItem('pendingPayment_' + currentUser.email, 'true');
                closeVipPurchaseModal();
                alert('Bitte warten Sie auf die Bestätigung Ihrer Zahlung. Dies kann einige Minuten dauern.');
            }
        }

        // Logout Function
        function logout() {
            if (confirm('Möchten Sie sich wirklich ausloggen?')) {
                localStorage.removeItem('currentUser');
                showPage('loginPage');
            }
        }

        // Activity Logging Function
        function logActivity(text) {
            const activities = JSON.parse(localStorage.getItem('activities')) || [];
            activities.unshift({
                time: new Date().toLocaleString('de-DE'),
                text: text
            });
            // Keep only last 100 activities
            if (activities.length > 100) {
                activities.pop();
            }
            localStorage.setItem('activities', JSON.stringify(activities));
            updateLogsDisplay();
        }

        function updateLogsDisplay() {
            const systemLogs = document.getElementById('systemLogs');
            if (systemLogs) {
                const activities = JSON.parse(localStorage.getItem('activities')) || [];
                systemLogs.innerHTML = activities.map(activity => `
                    <div class="activity-item">
                        <span class="activity-time">${activity.time}</span>
                        <span class="activity-text">${activity.text}</span>
                    </div>
                `).join('');
            }
        }

        function clearLogs() {
            if (confirm('Möchten Sie wirklich alle Logs löschen?')) {
                localStorage.removeItem('activities');
                updateLogsDisplay();
                alert('Logs wurden gelöscht!');
            }
        }

        // Add event listeners for modal close
        window.onclick = function(event) {
            const accountModal = document.getElementById('accountModal');
            const vipPurchaseModal = document.getElementById('vipPurchaseModal');
            
            if (event.target == accountModal) {
                closeAccountModal();
            }
            if (event.target == vipPurchaseModal) {
                closeVipPurchaseModal();
            }
        }

        // Add theme loading on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.getElementById('theme').value = savedTheme;
            document.documentElement.setAttribute('data-theme', savedTheme);
        });

        /* Add these functions */
        function generateRandomString(length) {
            const firstNames = ['john', 'jane', 'mike', 'sarah', 'alex', 'emma', 'david', 'lisa', 'michael', 'anna', 'peter', 'sophie', 'thomas', 'maria', 'james', 'laura', 'robert', 'julia', 'william', 'emily'];
            const lastNames = ['smith', 'johnson', 'williams', 'brown', 'jones', 'garcia', 'miller', 'davis', 'rodriguez', 'martinez', 'hernandez', 'lopez', 'gonzalez', 'wilson', 'anderson', 'thomas', 'taylor', 'moore', 'jackson', 'martin'];
            const numbers = '0123456789';
            const separators = ['', '.', '_'];
            
            // Generate a realistic name-based username
            const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
            const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
            const separator = separators[Math.floor(Math.random() * separators.length)];
            const randomNum = Math.floor(Math.random() * 999);
            
            let username = firstName + separator + lastName + randomNum;
            
            // Ensure username meets length requirements
            if (username.length > length) {
                username = username.substring(0, length);
            } else if (username.length < length) {
                const extraLength = length - username.length;
                for (let i = 0; i < extraLength; i++) {
                    username += numbers.charAt(Math.floor(Math.random() * numbers.length));
                }
            }
            
            return username.toLowerCase();
        }

        function generatePassword(length, useUppercase, useNumbers, useSpecial) {
            const lowercase = 'abcdefghijklmnopqrstuvwxyz';
            const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const numbers = '0123456789';
            const special = '!@#$%^&*()_+-=[]{}|;:,.<>?';
            
            // Common password patterns
            const patterns = [
                // Pattern: Word + Number + Special
                () => {
                    const words = ['secure', 'strong', 'safe', 'power', 'master', 'guard', 'shield', 'fortress', 'dragon', 'phoenix'];
                    const word = words[Math.floor(Math.random() * words.length)];
                    const num = Math.floor(Math.random() * 9999);
                    const specialChar = special.charAt(Math.floor(Math.random() * special.length));
                    return word + num + specialChar;
                },
                // Pattern: Name + Year + Special
                () => {
                    const names = ['alex', 'mike', 'john', 'sarah', 'emma', 'david', 'lisa', 'anna', 'peter', 'laura'];
                    const name = names[Math.floor(Math.random() * names.length)];
                    const year = Math.floor(Math.random() * (2024 - 1990) + 1990);
                    const specialChar = special.charAt(Math.floor(Math.random() * special.length));
                    return name + year + specialChar;
                },
                // Pattern: Random with requirements
                () => {
                    let password = '';
                    // Ensure at least one of each required type
                    if (useUppercase) password += uppercase.charAt(Math.floor(Math.random() * uppercase.length));
                    if (useNumbers) password += numbers.charAt(Math.floor(Math.random() * numbers.length));
                    if (useSpecial) password += special.charAt(Math.floor(Math.random() * special.length));
                    
                    // Fill the rest with random characters
                    let chars = lowercase;
                    if (useUppercase) chars += uppercase;
                    if (useNumbers) chars += numbers;
                    if (useSpecial) chars += special;
                    
                    while (password.length < length) {
                        password += chars.charAt(Math.floor(Math.random() * chars.length));
                    }
                    
                    // Shuffle the password
                    return password.split('').sort(() => Math.random() - 0.5).join('');
                }
            ];
            
            // Select a random pattern
            const pattern = patterns[Math.floor(Math.random() * patterns.length)];
            let password = pattern();
            
            // Ensure minimum length
            while (password.length < length) {
                password += lowercase.charAt(Math.floor(Math.random() * lowercase.length));
            }
            
            // Ensure maximum length
            if (password.length > length) {
                password = password.substring(0, length);
            }
            
            return password;
        }

        function generateEmails() {
            const count = parseInt(document.getElementById('emailCount').value);
            const domain = document.getElementById('emailDomain').value;
            const length = parseInt(document.getElementById('usernameLength').value);
            const passwordLength = parseInt(document.getElementById('passwordLength').value);
            const useUppercase = document.getElementById('useUppercase').checked;
            const useNumbers = document.getElementById('useNumbers').checked;
            const useSpecial = document.getElementById('useSpecial').checked;
            
            const emailList = document.querySelector('.email-list');
            const emailResults = document.getElementById('emailResults');
            
            // Clear previous results
            emailList.innerHTML = '';
            
            // Generate new emails with passwords
            for (let i = 0; i < count; i++) {
                const username = generateRandomString(length);
                const email = `${username}@${domain}`;
                const password = generatePassword(passwordLength, useUppercase, useNumbers, useSpecial);
                
                const emailItem = document.createElement('div');
                emailItem.className = 'email-item';
                emailItem.innerHTML = `
                    <div class="email-text">${email}</div>
                    <div class="email-password">Passwort: ${password}</div>
                    <div class="email-actions">
                        <button class="email-copy-btn" onclick="copyEmail('${email}')">Email Kopieren</button>
                        <button class="email-copy-btn" onclick="copyPassword('${password}')">Passwort Kopieren</button>
                    </div>
                `;
                emailList.appendChild(emailItem);
            }
            
            // Show results
            emailResults.style.display = 'block';
            
            // Log activity
            logActivity(`${count} valide Emails mit Passwörtern generiert`);
        }

        function copyEmail(email) {
            navigator.clipboard.writeText(email).then(() => {
                alert('Email kopiert: ' + email);
            }).catch(err => {
                console.error('Fehler beim Kopieren:', err);
            });
        }

        function copyPassword(password) {
            navigator.clipboard.writeText(password).then(() => {
                alert('Passwort kopiert!');
            }).catch(err => {
                console.error('Fehler beim Kopieren:', err);
            });
        }

        function copyAllEmails() {
            const emails = Array.from(document.querySelectorAll('.email-item')).map(item => {
                const email = item.querySelector('.email-text').textContent;
                const password = item.querySelector('.email-password').textContent;
                return `${email}\n${password}`;
            }).join('\n\n');
            
            navigator.clipboard.writeText(emails).then(() => {
                alert('Alle Emails und Passwörter wurden kopiert!');
            }).catch(err => {
                console.error('Fehler beim Kopieren:', err);
            });
        }

        function switchVipTab(tabId) {
            // Hide all VIP tab contents
            document.querySelectorAll('.vip-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all VIP tabs
            document.querySelectorAll('.vip-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected VIP tab content
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to selected VIP tab
            document.querySelector(`.vip-tab[onclick="switchVipTab('${tabId}')"]`).classList.add('active');
        }

        // Add event listeners for tab switching
        document.addEventListener('DOMContentLoaded', function() {
            // Add click event listeners to all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('onclick').match(/'([^']+)'/)[1];
                    switchTab(tabId);
                });
            });

            // Add click event listeners to all VIP tabs
            document.querySelectorAll('.vip-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('onclick').match(/'([^']+)'/)[1];
                    switchVipTab(tabId);
                });
            });

            // Check URL hash for initial tab
            if (window.location.hash) {
                const tabId = window.location.hash.substring(1);
                switchTab(tabId);
            }
        });

        function generateSimplePassword() {
            const length = parseInt(document.getElementById('passLength').value);
            const useUppercase = document.getElementById('useUppercase').checked;
            const useNumbers = document.getElementById('useNumbers').checked;
            const useSpecial = document.getElementById('useSpecial').checked;

            const lowercase = 'abcdefghijklmnopqrstuvwxyz';
            const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const numbers = '0123456789';
            const special = '!@#$%^&*()_+-=[]{}|;:,.<>?';

            let chars = lowercase;
            if (useUppercase) chars += uppercase;
            if (useNumbers) chars += numbers;
            if (useSpecial) chars += special;

            let password = '';
            for (let i = 0; i < length; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }

            document.getElementById('generatedPassword').textContent = password;
            document.getElementById('passwordResult').style.display = 'block';
            logActivity('Passwort generiert');
        }

        function copyGeneratedPassword() {
            const password = document.getElementById('generatedPassword').textContent;
            navigator.clipboard.writeText(password).then(() => {
                alert('Passwort kopiert!');
            }).catch(err => {
                console.error('Fehler beim Kopieren:', err);
            });
        }

        // Moderator Functions
        function searchModUsers() {
            const searchTerm = document.getElementById('modUserSearchInput').value.toLowerCase();
            const userList = document.getElementById('modUserList');
            const users = userList.getElementsByTagName('div');

            for (let user of users) {
                const username = user.querySelector('.user-name').textContent.toLowerCase();
                const role = user.querySelector('.user-role').textContent.toLowerCase();
                if (username.includes(searchTerm) || role.includes(searchTerm)) {
                    user.style.display = '';
                } else {
                    user.style.display = 'none';
                }
            }
        }

        function modKickUser(email) {
            if (!currentUser.isMod && !currentUser.isAdmin) {
                alert('Nur Moderatoren können Benutzer kicken!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht gekickt werden!');
                    return;
                }
                
                if (confirm(`Möchten Sie ${user.username} wirklich kicken?`)) {
                    // Log the activity
                    logActivity(`Benutzer ${user.username} wurde gekickt`);
                    logModAction(`Benutzer ${user.username} wurde gekickt`);
                    
                    // Show confirmation
                    alert(`Benutzer ${user.username} wurde gekickt`);
                    
                    // Update the user list
                    searchModUsers();
                }
            }
        }

        function modBanUser(email) {
            if (!currentUser.isMod && !currentUser.isAdmin) {
                alert('Nur Moderatoren können Benutzer sperren!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht gesperrt werden!');
                    return;
                }
                
                if (confirm(`Möchten Sie ${user.username} wirklich sperren?`)) {
                    user.isBanned = true;
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`Benutzer ${user.username} wurde gesperrt`);
                    logModAction(`Benutzer ${user.username} wurde gesperrt`);
                    
                    // Update the user list
                    searchModUsers();
                    
                    // Show confirmation
                    alert(`Benutzer ${user.username} wurde gesperrt`);
                }
            }
        }

        function modUnbanUser(email) {
            if (!currentUser.isMod && !currentUser.isAdmin) {
                alert('Nur Moderatoren können Benutzer entsperren!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht entsperrt werden!');
                    return;
                }
                
                if (confirm(`Möchten Sie ${user.username} wirklich entsperren?`)) {
                    user.isBanned = false;
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`Benutzer ${user.username} wurde entsperrt`);
                    logModAction(`Benutzer ${user.username} wurde entsperrt`);
                    
                    // Update the user list
                    searchModUsers();
                    
                    // Show confirmation
                    alert(`Benutzer ${user.username} wurde entsperrt`);
                }
            }
        }

        function logModAction(text) {
            const modActions = document.getElementById('modActions');
            if (modActions) {
                const action = document.createElement('div');
                action.className = 'activity-item';
                action.innerHTML = `
                    <span class="activity-time">${new Date().toLocaleString('de-DE')}</span>
                    <span class="activity-text">${text}</span>
                `;
                modActions.insertBefore(action, modActions.firstChild);
            }
        }

        // Initialize mod panel on page load
        document.addEventListener('DOMContentLoaded', function() {
            if (currentUser.isMod || currentUser.isAdmin) {
                searchModUsers();
            }
        });

        // Add this new function after the other moderator functions
        function modToggleVip(email) {
            if (!currentUser.isMod && !currentUser.isAdmin) {
                alert('Nur Moderatoren können VIP-Status ändern!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht als VIP markiert werden!');
                    return;
                }
                
                const action = user.isVip ? 'entfernt' : 'gegeben';
                if (confirm(`Möchten Sie ${user.username} wirklich VIP-Status ${action}?`)) {
                    user.isVip = !user.isVip;
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`VIP-Status für ${user.username} ${user.isVip ? 'aktiviert' : 'deaktiviert'} von Moderator`);
                    logModAction(`VIP-Status für ${user.username} ${user.isVip ? 'aktiviert' : 'deaktiviert'}`);
                    
                    // Update the user list
                    searchModUsers();
                    
                    // Show confirmation
                    alert(`VIP-Status für ${user.username} wurde ${action}`);
                }
            }
        }

        // Add these new functions
        function toggleModInfo() {
            const modInfo = document.getElementById('modInfo');
            if (modInfo.style.display === 'none') {
                modInfo.style.display = 'block';
                logActivity('Moderator Account Informationen angezeigt');
            } else {
                modInfo.style.display = 'none';
                logActivity('Moderator Account Informationen versteckt');
            }
        }

        function searchModAccounts() {
            const searchTerm = document.getElementById('modSearch').value.toLowerCase();
            const modItems = document.querySelectorAll('.mod-item');
            
            modItems.forEach(item => {
                const username = item.querySelector('p:nth-child(1)').textContent.toLowerCase();
                const email = item.querySelector('p:nth-child(2)').textContent.toLowerCase();
                
                if (username.includes(searchTerm) || email.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function copyModInfo(email, password) {
            const text = `Email: ${email}\nPassword: ${password}`;
            navigator.clipboard.writeText(text).then(() => {
                alert('Moderator Informationen kopiert!');
                logActivity('Moderator Informationen kopiert: ' + email);
            }).catch(err => {
                console.error('Fehler beim Kopieren:', err);
            });
        }

        // Owner Panel Functions
        function showAllUsers() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userList = document.getElementById('ownerUserList');
            userList.innerHTML = users.map(user => `
                <div class="user-card">
                    <h3>${user.username}</h3>
                    <p>Email: ${user.email}</p>
                    <p>Status: ${user.isAdmin ? 'Admin' : user.isMod ? 'Mod' : user.isVip ? 'VIP' : 'Normal'}</p>
                    <p>Gesperrt: ${user.isBanned ? 'Ja' : 'Nein'}</p>
                    <div class="user-actions">
                        <button onclick="ownerKickUser('${user.email}')" ${user.isBanned ? 'disabled' : ''}>
                            Kick
                        </button>
                        <button onclick="ownerBanUser('${user.email}')" ${user.isBanned ? 'disabled' : ''}>
                            Sperren
                        </button>
                        <button onclick="ownerUnbanUser('${user.email}')" ${!user.isBanned ? 'disabled' : ''}>
                            Entsperren
                        </button>
                        <button onclick="ownerToggleVip('${user.email}')" style="background: linear-gradient(90deg, #ffd700 0%, #ffa500 100%);">
                            ${user.isVip ? 'VIP entfernen' : 'VIP geben'}
                        </button>
                        <button onclick="ownerToggleMod('${user.email}')" style="background: linear-gradient(90deg, #4CAF50 0%, #45a049 100%);">
                            ${user.isMod ? 'Mod entfernen' : 'Mod machen'}
                        </button>
                        <button onclick="ownerToggleAdmin('${user.email}')" style="background: linear-gradient(90deg, #ff3333 0%, #cc0000 100%);">
                            ${user.isAdmin ? 'Admin entfernen' : 'Admin machen'}
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function showAdminUsers() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userList = document.getElementById('ownerUserList');
            userList.innerHTML = users.filter(user => user.isAdmin).map(user => `
                <div class="user-item">
                    <span>${user.username} (${user.email})</span>
                    <div class="user-actions">
                        <button onclick="toggleUserRole('${user.email}', 'admin')">Remove Admin</button>
                    </div>
                </div>
            `).join('');
        }

        function showModUsers() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userList = document.getElementById('ownerUserList');
            userList.innerHTML = users.filter(user => user.isMod).map(user => `
                <div class="user-item">
                    <span>${user.username} (${user.email})</span>
                    <div class="user-actions">
                        <button onclick="toggleUserRole('${user.email}', 'mod')">Remove Mod</button>
                    </div>
                </div>
            `).join('');
        }

        function showVipUsers() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userList = document.getElementById('ownerUserList');
            userList.innerHTML = users.filter(user => user.isVip).map(user => `
                <div class="user-item">
                    <span>${user.username} (${user.email})</span>
                    <div class="user-actions">
                        <button onclick="toggleUserRole('${user.email}', 'vip')">Remove VIP</button>
                    </div>
                </div>
            `).join('');
        }

        function toggleUserRole(email, role) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userIndex = users.findIndex(u => u.email === email);
            
            if (userIndex !== -1) {
                const user = users[userIndex];
                if (role === 'admin') {
                    user.isAdmin = !user.isAdmin;
                } else if (role === 'mod') {
                    user.isMod = !user.isMod;
                } else if (role === 'vip') {
                    user.isVip = !user.isVip;
                }
                
                localStorage.setItem('users', JSON.stringify(users));
                showAllUsers(); // Refresh the list
                logAction(`Changed ${role} status for ${email}`);
            }
        }

        function showSystemSettings() {
            const settings = document.getElementById('ownerSettings');
            settings.innerHTML = `
                <div class="setting-item">
                    <label>System Status</label>
                    <select onchange="updateSystemStatus(this.value)">
                        <option value="active">Active</option>
                        <option value="maintenance">Maintenance</option>
                        <option value="offline">Offline</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label>Max Users</label>
                    <input type="number" value="1000" onchange="updateMaxUsers(this.value)">
                </div>
                <div class="setting-item">
                    <label>Session Timeout (minutes)</label>
                    <input type="number" value="30" onchange="updateSessionTimeout(this.value)">
                </div>
            `;
        }

        function showPaymentSettings() {
            const settings = document.getElementById('ownerSettings');
            settings.innerHTML = `
                <div class="setting-item">
                    <label>VIP Price (LTC)</label>
                    <input type="number" value="0.1" onchange="updateVipPrice(this.value)">
                </div>
                <div class="setting-item">
                    <label>Payment Address</label>
                    <input type="text" value="${localStorage.getItem('ltcAddress') || 'LajVUh9eAzh1zTsph4LrRG1fQ4eyyk9vfg'}" onchange="updateLtcAddress(this.value)">
                </div>
            `;
        }

        function showSecuritySettings() {
            const settings = document.getElementById('ownerSettings');
            settings.innerHTML = `
                <div class="setting-item">
                    <label>Password Requirements</label>
                    <div>
                        <input type="checkbox" id="reqUppercase" checked> Uppercase
                        <input type="checkbox" id="reqNumbers" checked> Numbers
                        <input type="checkbox" id="reqSpecial" checked> Special Characters
                    </div>
                </div>
                <div class="setting-item">
                    <label>Min Password Length</label>
                    <input type="number" value="8" onchange="updateMinPasswordLength(this.value)">
                </div>
                <div class="setting-item">
                    <label>Max Login Attempts</label>
                    <input type="number" value="5" onchange="updateMaxLoginAttempts(this.value)">
                </div>
            `;
        }

        function showAllLogs() {
            const logs = JSON.parse(localStorage.getItem('activityLog')) || [];
            displayLogs(logs);
        }

        function showAdminLogs() {
            const logs = JSON.parse(localStorage.getItem('activityLog')) || [];
            displayLogs(logs.filter(log => log.type === 'admin'));
        }

        function showModLogs() {
            const logs = JSON.parse(localStorage.getItem('activityLog')) || [];
            displayLogs(logs.filter(log => log.type === 'mod'));
        }

        function showUserLogs() {
            const logs = JSON.parse(localStorage.getItem('activityLog')) || [];
            displayLogs(logs.filter(log => log.type === 'user'));
        }

        function displayLogs(logs) {
            const logContainer = document.getElementById('ownerLogs');
            logContainer.innerHTML = logs.map(log => `
                <div class="log-item ${log.type}">
                    <span class="log-time">${new Date(log.timestamp).toLocaleString()}</span>
                    <span class="log-user">${log.user}</span>
                    <span class="log-action">${log.action}</span>
                </div>
            `).join('');
        }

        // Initialize owner panel when page loads
        document.addEventListener('DOMContentLoaded', () => {
            checkUserAccess();
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser && currentUser.isOwner) {
                showAllUsers();
                showSystemSettings();
                showAllLogs();
            }
        });

        // Update the initialization code
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser) {
                // Update owner panel
                if (currentUser.isOwner) {
                    document.getElementById('ownerUsername').value = currentUser.username;
                    document.getElementById('ownerEmail').value = currentUser.email;
                    document.getElementById('ownerStatus').textContent = 'Owner';
                    updateOwnerActivityLog();
                }
                
                // Update mod panel
                if (currentUser.isMod || currentUser.isAdmin) {
                    document.getElementById('modUsername').value = currentUser.username;
                    document.getElementById('modEmail').value = currentUser.email;
                    document.getElementById('modStatus').textContent = currentUser.isAdmin ? 'Administrator' : 'Moderator';
                    updateModActivityLog();
                }
            }
        });

        function updateOwnerActivityLog() {
            const activities = JSON.parse(localStorage.getItem('activities')) || [];
            const activityLog = document.getElementById('ownerActivityLog');
            if (activityLog) {
                activityLog.innerHTML = activities.map(activity => `
                    <div class="activity-item">
                        <span class="activity-time">${activity.time}</span>
                        <span class="activity-text">${activity.text}</span>
                    </div>
                `).join('');
            }
        }

        function updateModActivityLog() {
            const activities = JSON.parse(localStorage.getItem('activities')) || [];
            const activityLog = document.getElementById('modActivityLog');
            if (activityLog) {
                activityLog.innerHTML = activities.map(activity => `
                    <div class="activity-item">
                        <span class="activity-time">${activity.time}</span>
                        <span class="activity-text">${activity.text}</span>
                    </div>
                `).join('');
            }
        }

        // Add these new functions
        function updateOwnerPanel() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) return;

            // Update account information
            document.getElementById('ownerUsername').value = currentUser.username;
            document.getElementById('ownerEmail').value = currentUser.email;
            document.getElementById('ownerStatus').textContent = 'Owner';
            
            // Update activity log
            updateOwnerActivityLog();
            
            // Show all sections
            document.querySelectorAll('#owner .owner-section').forEach(section => {
                section.style.display = 'block';
            });
        }

        function updateModPanel() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) return;

            // Update account information
            document.getElementById('modUsername').value = currentUser.username;
            document.getElementById('modEmail').value = currentUser.email;
            document.getElementById('modStatus').textContent = currentUser.isAdmin ? 'Administrator' : 'Moderator';
            
            // Update activity log
            updateModActivityLog();
            
            // Show all sections
            document.querySelectorAll('#mod .owner-section').forEach(section => {
                section.style.display = 'block';
            });
        }

        // Add Admin Panel initialization
        function updateAdminPanel() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) return;

            // Initialize admin panel content
            const adminContent = document.getElementById('admin');
            if (adminContent) {
                adminContent.innerHTML = `
                    <div class="section">
                        <h2>Admin Panel</h2>
                        <div class="owner-grid">
                            <div class="owner-section">
                                <h3>Account Information</h3>
                                <div class="form-group">
                                    <label>Benutzername:</label>
                                    <input type="text" id="adminUsername" readonly value="${currentUser.username}">
                                </div>
                                <div class="form-group">
                                    <label>Email:</label>
                                    <input type="text" id="adminEmail" readonly value="${currentUser.email}">
                                </div>
                                <div class="form-group">
                                    <label>Status:</label>
                                    <div id="adminStatus" style="color: #ff3333; font-weight: bold;">Administrator</div>
                                </div>
                                <div class="form-group">
                                    <h3>Aktivitätsprotokoll</h3>
                                    <div id="adminActivityLog" class="activity-log"></div>
                                </div>
                            </div>

                            <div class="owner-section">
                                <h3>User Management</h3>
                                <div class="form-group">
                                    <input type="text" id="adminUserSearch" placeholder="Benutzer suchen..." onkeyup="searchUsers()">
                                </div>
                                <div id="adminUserList" class="user-list"></div>
                            </div>

                            <div class="owner-section">
                                <h3>System Overview</h3>
                                <div class="form-group">
                                    <label>Gesamte Benutzer:</label>
                                    <div id="totalUsers">0</div>
                                </div>
                                <div class="form-group">
                                    <label>VIP Benutzer:</label>
                                    <div id="totalVipUsers">0</div>
                                </div>
                                <div class="form-group">
                                    <label>Moderatoren:</label>
                                    <div id="totalMods">0</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                // Initialize admin panel data
                updateAdminStats();
                searchUsers();
                updateAdminActivityLog();
            }
        }

        function updateAdminStats() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('totalVipUsers').textContent = users.filter(u => u.isVip).length;
            document.getElementById('totalMods').textContent = users.filter(u => u.isMod).length;
        }

        function updateAdminActivityLog() {
            const activities = JSON.parse(localStorage.getItem('activities')) || [];
            const activityLog = document.getElementById('adminActivityLog');
            if (activityLog) {
                activityLog.innerHTML = activities.map(activity => `
                    <div class="activity-item">
                        <span class="activity-time">${activity.time}</span>
                        <span class="activity-text">${activity.text}</span>
                    </div>
                `).join('');
            }
        }

        // Call checkUserAccess when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            checkUserAccess();
            
            // Check URL hash for initial tab
            if (window.location.hash) {
                const tabId = window.location.hash.substring(1);
                switchTab(tabId);
            } else {
                switchTab('tools');
            }
        });

        // Add these new functions for tab switching
        function switchAdminTab(tabId) {
            // Hide all admin tab contents
            document.querySelectorAll('#admin .vip-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all admin tabs
            document.querySelectorAll('#admin .vip-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected admin tab content
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to selected admin tab
            document.querySelector(`#admin .vip-tab[onclick="switchAdminTab('${tabId}')"]`).classList.add('active');
        }

        function switchModTab(tabId) {
            // Hide all mod tab contents
            document.querySelectorAll('#mod .vip-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all mod tabs
            document.querySelectorAll('#mod .vip-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected mod tab content
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to selected mod tab
            document.querySelector(`#mod .vip-tab[onclick="switchModTab('${tabId}')"]`).classList.add('active');
        }

        function switchOwnerTab(tabId) {
            // Hide all tab contents
            document.querySelectorAll('.vip-tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.vip-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabId).style.display = 'block';
            
            // Add active class to selected tab
            event.currentTarget.classList.add('active');
        }

        // Initialize panels when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser) {
                if (currentUser.role === 'admin') {
                    updateAdminPanel();
                } else if (currentUser.role === 'owner') {
                    updateOwnerPanel();
                }
            }
        });

        // Add these new owner ban functions
        function ownerKickUser(email) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht gekickt werden!');
                    return;
                }
                
                if (confirm(`Möchten Sie ${user.username} wirklich kicken?`)) {
                    // Log the activity
                    logActivity(`Owner hat Benutzer ${user.username} gekickt`);
                    
                    // Show confirmation
                    alert(`Benutzer ${user.username} wurde gekickt`);
                    
                    // Update the user list
                    showAllUsers();
                }
            }
        }

        function ownerBanUser(email) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (confirm(`Möchten Sie ${user.username} wirklich sperren?`)) {
                    user.isBanned = true;
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`Owner hat Benutzer ${user.username} gesperrt`);
                    
                    // Update the user list
                    showAllUsers();
                    
                    // Show confirmation
                    alert(`Benutzer ${user.username} wurde gesperrt`);
                }
            }
        }

        function ownerUnbanUser(email) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht entsperrt werden!');
                    return;
                }
                
                if (confirm(`Möchten Sie ${user.username} wirklich entsperren?`)) {
                    user.isBanned = false;
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`Owner hat Benutzer ${user.username} entsperrt`);
                    
                    // Update the user list
                    showAllUsers();
                    
                    // Show confirmation
                    alert(`Benutzer ${user.username} wurde entsperrt`);
                }
            }
        }

        function ownerToggleVip(email) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                if (user.isAdmin) {
                    alert('Administratoren können nicht als VIP markiert werden!');
                    return;
                }
                
                const action = user.isVip ? 'entfernt' : 'gegeben';
                if (confirm(`Möchten Sie ${user.username} wirklich VIP-Status ${action}?`)) {
                    user.isVip = !user.isVip;
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`Owner hat VIP-Status für ${user.username} ${user.isVip ? 'aktiviert' : 'deaktiviert'}`);
                    
                    // Update the user list
                    showAllUsers();
                    
                    // Show confirmation
                    alert(`VIP-Status für ${user.username} wurde ${action}`);
                }
            }
        }

        // Add these new owner admin functions
        function ownerToggleAdmin(email) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                const action = user.isAdmin ? 'entfernt' : 'gegeben';
                if (confirm(`Möchten Sie ${user.username} wirklich Admin-Status ${action}?`)) {
                    user.isAdmin = !user.isAdmin;
                    // If removing admin status, also remove mod status
                    if (!user.isAdmin) {
                        user.isMod = false;
                    }
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`Owner hat Admin-Status für ${user.username} ${user.isAdmin ? 'aktiviert' : 'deaktiviert'}`);
                    
                    // Update the user list
                    showAllUsers();
                    
                    // Show confirmation
                    alert(`Admin-Status für ${user.username} wurde ${action}`);
                }
            }
        }

        function ownerToggleMod(email) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email);
            
            if (user) {
                const action = user.isMod ? 'entfernt' : 'gegeben';
                if (confirm(`Möchten Sie ${user.username} wirklich Mod-Status ${action}?`)) {
                    user.isMod = !user.isMod;
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Log the activity
                    logActivity(`Owner hat Mod-Status für ${user.username} ${user.isMod ? 'aktiviert' : 'deaktiviert'}`);
                    
                    // Update the user list
                    showAllUsers();
                    
                    // Show confirmation
                    alert(`Mod-Status für ${user.username} wurde ${action}`);
                }
            }
        }

        // Add these new virus builder functions
        function buildVirus() {}
        function createAndDownloadFile() {}
        async function sendToWebhook() {}

        // Add these new Discord tool functions
        async function testWebhook() {
            const webhookUrl = document.getElementById('webhookUrl').value;
            const status = document.getElementById('webhookStatus');
            
            if (!webhookUrl.includes('discord.com/api/webhooks/')) {
                status.textContent = 'Ungültige Webhook URL!';
                status.style.color = '#ff0000';
                return;
            }

            try {
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        content: 'Webhook Test erfolgreich!',
                        username: 'bongos-bot'
                    })
                });

                if (response.ok) {
                    status.textContent = 'Webhook funktioniert!';
                    status.style.color = '#00ff00';
                    logActivity('Discord Webhook erfolgreich getestet');
                } else {
                    throw new Error('Webhook test failed');
                }
            } catch (error) {
                status.textContent = 'Fehler beim Testen des Webhooks!';
                status.style.color = '#ff0000';
                logActivity('Fehler beim Testen des Discord Webhooks');
            }
        }

        async function deleteWebhook() {
            const webhookUrl = document.getElementById('webhookUrl').value;
            const status = document.getElementById('deleteStatus');
            
            if (!webhookUrl.includes('discord.com/api/webhooks/')) {
                status.textContent = 'Ungültige Webhook URL!';
                status.style.color = '#ff0000';
                return;
            }

            try {
                const response = await fetch(webhookUrl, {
                    method: 'DELETE'
                });

                if (response.ok) {
                    status.textContent = 'Webhook erfolgreich gelöscht!';
                    status.style.color = '#00ff00';
                    document.getElementById('webhookUrl').value = '';
                    logActivity('Discord Webhook erfolgreich gelöscht');
                } else {
                    throw new Error('Failed to delete webhook');
                }
            } catch (error) {
                status.textContent = 'Fehler beim Löschen des Webhooks!';
                status.style.color = '#ff0000';
                logActivity('Fehler beim Löschen des Discord Webhooks');
            }
        }

        async function checkToken() {
            const token = document.getElementById('tokenInput').value;
            const status = document.getElementById('tokenStatus');
            const info = document.getElementById('tokenInfo');
            
            if (!token) {
                status.textContent = 'Bitte Token eingeben!';
                status.style.color = '#ff0000';
                return;
            }

            try {
                const response = await fetch('https://discord.com/api/v9/users/@me', {
                    headers: {
                        'Authorization': token
                    }
                });

                if (response.ok) {
                    const userData = await response.json();
                    status.textContent = 'Token ist gültig!';
                    status.style.color = '#00ff00';
                    
                    info.innerHTML = `
                        <p><strong>Username:</strong> ${userData.username}#${userData.discriminator}</p>
                        <p><strong>ID:</strong> ${userData.id}</p>
                        <p><strong>Email:</strong> ${userData.email || 'Nicht verfügbar'}</p>
                        <p><strong>Phone:</strong> ${userData.phone || 'Nicht verfügbar'}</p>
                        <p><strong>2FA:</strong> ${userData.mfa_enabled ? 'Aktiviert' : 'Deaktiviert'}</p>
                    `;
                    
                    logActivity('Discord Token erfolgreich geprüft');
                } else {
                    throw new Error('Invalid token');
                }
            } catch (error) {
                status.textContent = 'Ungültiger Token!';
                status.style.color = '#ff0000';
                info.innerHTML = '';
                logActivity('Ungültiger Discord Token eingegeben');
            }
        }

        // Time Tracker Functions
        let startDate = new Date('2024-01-01'); // Default start date
        let timeUpdateInterval = null;

        function updateStartDate() {
            const newDate = document.getElementById('startDatePicker').value;
            if (newDate) {
                startDate = new Date(newDate);
                updateTimeTracker();
                logActivity(`Time Tracker start date changed to: ${startDate.toLocaleDateString('de-DE')}`);
            }
        }

        function updateTimeTracker() {
            const currentDate = new Date();
            
            // Update current date display
            document.getElementById('currentDate').textContent = currentDate.toLocaleDateString('de-DE', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Calculate time differences
            const diffTime = Math.abs(currentDate - startDate);
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            const diffWeeks = Math.floor(diffDays / 7);
            const diffMonths = Math.floor(diffDays / 30.44); // Average days in a month
            const diffYears = Math.floor(diffDays / 365.25); // Account for leap years
            
            // Update counters
            document.getElementById('daysCount').textContent = diffDays;
            document.getElementById('weeksCount').textContent = diffWeeks;
            document.getElementById('monthsCount').textContent = diffMonths;
            document.getElementById('yearsCount').textContent = diffYears;
        }

        // Update time tracker when switching to the time tab
        function switchOwnerTab(tabId) {
            // Hide all owner tab contents
            document.querySelectorAll('#owner .vip-tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all owner tabs
            document.querySelectorAll('#owner .vip-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected owner tab content
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to selected owner tab
            document.querySelector(`#owner .vip-tab[onclick="switchOwnerTab('${tabId}')"]`).classList.add('active');

            // Update time tracker if time tab is selected
            if (tabId === 'owner-time') {
                // Clear any existing interval
                if (timeUpdateInterval) {
                    clearInterval(timeUpdateInterval);
                }
                
                // Set initial date picker value
                document.getElementById('startDatePicker').value = startDate.toISOString().split('T')[0];
                
                // Update immediately and start interval
                updateTimeTracker();
                timeUpdateInterval = setInterval(updateTimeTracker, 1000);
            } else {
                // Clear interval if switching away from time tab
                if (timeUpdateInterval) {
                    clearInterval(timeUpdateInterval);
                    timeUpdateInterval = null;
                }
            }
        }

        // Initialize time tracker when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial date picker value if time tab is active
            if (document.getElementById('owner-time').classList.contains('active')) {
                document.getElementById('startDatePicker').value = startDate.toISOString().split('T')[0];
                updateTimeTracker();
                timeUpdateInterval = setInterval(updateTimeTracker, 1000);
            }
        });

        function updateStartDate() {
            // Add any additional logic you want to execute when start date changes
            console.log('Start date changed:', document.getElementById('startDatePicker').value);
        }

        // Update the updateAdminPanel function
        function updateAdminPanel() {
            const adminPanel = document.getElementById('admin-panel');
            if (adminPanel) {
                adminPanel.style.display = 'block';
            }
        }

        // Update the updateOwnerPanel function
        function updateOwnerPanel() {
            const ownerPanel = document.getElementById('owner-panel');
            if (ownerPanel) {
                ownerPanel.style.display = 'block';
            }
        }

        function addEmbedField() {
            const fieldsList = document.getElementById('embedFieldsList');
            const fieldDiv = document.createElement('div');
            fieldDiv.className = 'embed-field-item';
            fieldDiv.innerHTML = `
                <input type="text" placeholder="Field Name" class="field-name">
                <input type="text" placeholder="Field Value" class="field-value">
                <button onclick="this.parentElement.remove()">Remove</button>
            `;
            fieldsList.appendChild(fieldDiv);
        }

        function previewWebhook() {
            const preview = document.getElementById('webhookPreview');
            const content = document.getElementById('webhookContent').value;
            const username = document.getElementById('webhookUsername').value;
            const avatar = document.getElementById('webhookAvatar').value;
            const embedTitle = document.getElementById('embedTitle').value;
            const embedDesc = document.getElementById('embedDescription').value;
            const embedColor = document.getElementById('embedColor').value;
            const embedImage = document.getElementById('embedImage').value;
            const embedThumbnail = document.getElementById('embedThumbnail').value;

            let previewHTML = '<div class="webhook-message">';
            
            if (username) {
                previewHTML += `<div class="webhook-header">
                    <img src="${avatar || 'https://cdn.discordapp.com/embed/avatars/0.png'}" class="webhook-avatar">
                    <span class="webhook-username">${username}</span>
                </div>`;
            }

            if (content) {
                previewHTML += `<div class="webhook-content">${content}</div>`;
            }

            if (embedTitle || embedDesc || embedImage || embedThumbnail) {
                previewHTML += `<div class="webhook-embed" style="border-left: 4px solid ${embedColor}">
                    ${embedTitle ? `<div class="embed-title">${embedTitle}</div>` : ''}
                    ${embedDesc ? `<div class="embed-description">${embedDesc}</div>` : ''}
                    ${embedThumbnail ? `<img src="${embedThumbnail}" class="embed-thumbnail">` : ''}
                    ${embedImage ? `<img src="${embedImage}" class="embed-image">` : ''}
                </div>`;
            }

            previewHTML += '</div>';
            preview.innerHTML = previewHTML;
        }

        async function sendWebhook() {
            const webhookUrl = document.getElementById('webhookDesignerUrl').value;
            if (!webhookUrl.includes('discord.com/api/webhooks/')) {
                alert('Invalid webhook URL!');
                return;
            }

            // Gather fields
            const content = document.getElementById('webhookContent').value;
            const username = 'bongos-bot';
            const avatar_url = document.getElementById('webhookAvatar').value;
            const embedTitle = document.getElementById('embedTitle').value;
            const embedDescription = document.getElementById('embedDescription').value;
            const embedColor = document.getElementById('embedColor').value;
            const embedImage = document.getElementById('embedImage').value;
            const embedThumbnail = document.getElementById('embedThumbnail').value;
            const fields = Array.from(document.querySelectorAll('.embed-field-item')).map(field => ({
                name: field.querySelector('.field-name').value,
                value: field.querySelector('.field-value').value,
                inline: true
            })).filter(f => f.name && f.value);

            // Build embed object, only including non-empty fields
            const embed = {};
            if (embedTitle) embed.title = embedTitle;
            if (embedDescription) embed.description = embedDescription;
            if (embedColor) embed.color = parseInt(embedColor.replace('#', ''), 16);
            if (embedImage) embed.image = { url: embedImage };
            if (embedThumbnail) embed.thumbnail = { url: embedThumbnail };
            if (fields.length > 0) embed.fields = fields;

            // Remove embed if empty
            const embeds = Object.keys(embed).length > 0 ? [embed] : [];

            const payload = {
                content,
                username,
                avatar_url,
                embeds
            };

            try {
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (response.ok) {
                    alert('Webhook sent successfully!');
                    logActivity('Webhook message sent successfully');
                } else {
                    const errorText = await response.text();
                    alert('Failed to send webhook: ' + errorText);
                    logActivity('Failed to send webhook message: ' + errorText);
                }
            } catch (error) {
                alert('Failed to send webhook: ' + error.message);
                logActivity('Failed to send webhook message: ' + error.message);
            }
        }

        function saveWebhookTemplate() {
            const template = {
                content: document.getElementById('webhookContent').value,
                username: document.getElementById('webhookUsername').value,
                avatar: document.getElementById('webhookAvatar').value,
                embedTitle: document.getElementById('embedTitle').value,
                embedDescription: document.getElementById('embedDescription').value,
                embedColor: document.getElementById('embedColor').value,
                embedImage: document.getElementById('embedImage').value,
                embedThumbnail: document.getElementById('embedThumbnail').value,
                fields: Array.from(document.querySelectorAll('.embed-field-item')).map(field => ({
                    name: field.querySelector('.field-name').value,
                    value: field.querySelector('.field-value').value
                }))
            };

            const templates = JSON.parse(localStorage.getItem('webhookTemplates') || '[]');
            templates.push(template);
            localStorage.setItem('webhookTemplates', JSON.stringify(templates));
            alert('Template saved successfully!');
        }

        function loadWebhookTemplates() {
            const templates = JSON.parse(localStorage.getItem('webhookTemplates') || '[]');
            if (templates.length === 0) {
                alert('No saved templates found!');
                return;
            }

            const templateList = templates.map((template, index) => `
                <div class="template-item">
                    <span>Template ${index + 1}</span>
                    <button onclick="loadTemplate(${index})">Load</button>
                    <button onclick="deleteTemplate(${index})">Delete</button>
                </div>
            `).join('');

            const templateModal = document.createElement('div');
            templateModal.className = 'template-modal';
            templateModal.innerHTML = `
                <div class="template-modal-content">
                    <h3>Saved Templates</h3>
                    <div class="template-list">${templateList}</div>
                    <button onclick="this.parentElement.parentElement.remove()">Close</button>
                </div>
            `;
            document.body.appendChild(templateModal);
        }

        function loadTemplate(index) {
            const templates = JSON.parse(localStorage.getItem('webhookTemplates') || '[]');
            const template = templates[index];

            document.getElementById('webhookContent').value = template.content;
            document.getElementById('webhookUsername').value = template.username;
            document.getElementById('webhookAvatar').value = template.avatar;
            document.getElementById('embedTitle').value = template.embedTitle;
            document.getElementById('embedDescription').value = template.embedDescription;
            document.getElementById('embedColor').value = template.embedColor;
            document.getElementById('embedImage').value = template.embedImage;
            document.getElementById('embedThumbnail').value = template.embedThumbnail;

            const fieldsList = document.getElementById('embedFieldsList');
            fieldsList.innerHTML = '';
            template.fields.forEach(field => {
                const fieldDiv = document.createElement('div');
                fieldDiv.className = 'embed-field-item';
                fieldDiv.innerHTML = `
                    <input type="text" placeholder="Field Name" class="field-name" value="${field.name}">
                    <input type="text" placeholder="Field Value" class="field-value" value="${field.value}">
                    <button onclick="this.parentElement.remove()">Remove</button>
                `;
                fieldsList.appendChild(fieldDiv);
            });

            document.querySelector('.template-modal').remove();
            previewWebhook();
        }

        function deleteTemplate(index) {
            const templates = JSON.parse(localStorage.getItem('webhookTemplates') || '[]');
            templates.splice(index, 1);
            localStorage.setItem('webhookTemplates', JSON.stringify(templates));
            loadWebhookTemplates();
        }

        function handleDrop(event) {
            event.preventDefault();
            const file = event.dataTransfer.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('webhookAvatar').value = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function handleDragOver(event) {
            event.preventDefault();
        }

        function handleDragLeave(event) {
            event.preventDefault();
        }

        // Add these functions for the IP Grabber
        function copyGrabberLink() {
            const link = document.getElementById('grabberLink').value;
            navigator.clipboard.writeText(link).then(() => {
                alert('Grabber Link kopiert!');
            });
        }

        function copyAllIps() {
            const grabbedIps = JSON.parse(localStorage.getItem('grabbedIps') || '[]');
            const all = grabbedIps.map(entry => `${entry.source} | ${entry.username} | ${entry.ip} (${entry.time})`).join('\n');
            navigator.clipboard.writeText(all).then(() => {
                alert('Alle IPs kopiert!');
            });
        }

        // SPA Navigation Logic
        function showPage(pageId) {
            const pages = ['loginPage', 'registerPage', 'paymentPage', 'dashboardPage'];
            pages.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.style.display = (id === pageId) ? '' : 'none';
            });
        }

        // --- LOGIN LOGIC ---
        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const errorMessage = document.getElementById('loginErrorMessage');
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                const currentUser = {
                    username: user.username,
                    email: user.email,
                    isOwner: user.isOwner || false,
                    isAdmin: user.isAdmin || false,
                    isMod: user.isMod || false,
                    isVip: user.isVip || false
                };
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                logActivity(`Benutzer ${user.username} eingeloggt`);
                showPage('dashboardPage');
            } else {
                errorMessage.style.display = 'block';
                errorMessage.textContent = 'Ungültige Anmeldedaten!';
            }
            return false;
        }

        // --- REGISTER LOGIC ---
        function handleRegister(event) {
            event.preventDefault();
            const username = document.getElementById('registerUsername').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            const errorMessage = document.getElementById('registerErrorMessage');
            if (password !== confirmPassword) {
                errorMessage.textContent = 'Die Passwörter stimmen nicht überein!';
                errorMessage.style.display = 'block';
                return false;
            }
            if (password.length < 8) {
                errorMessage.textContent = 'Das Passwort muss mindestens 8 Zeichen lang sein!';
                errorMessage.style.display = 'block';
                return false;
            }
            const users = JSON.parse(localStorage.getItem('users')) || [];
            if (users.some(user => user.email === email)) {
                errorMessage.textContent = 'Diese Email ist bereits registriert!';
                errorMessage.style.display = 'block';
                return false;
            }
            const newUser = {
                username: username,
                email: email,
                password: password,
                isOwner: false,
                isAdmin: false,
                isMod: false,
                isVip: false
            };
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            const activities = JSON.parse(localStorage.getItem('activities')) || [];
            activities.unshift({
                time: new Date().toLocaleString('de-DE'),
                text: `Neuer Benutzer registriert: ${username}`
            });
            localStorage.setItem('activities', JSON.stringify(activities));
            alert('Registrierung erfolgreich! Bitte loggen Sie sich ein.');
            showPage('loginPage');
            return false;
        }

        // --- LOGOUT LOGIC ---
        function logout() {
            if (confirm('Möchten Sie sich wirklich ausloggen?')) {
                localStorage.removeItem('currentUser');
                showPage('loginPage');
            }
        }

        // --- LOG ACTIVITY ---
        function logActivity(text) {
            const activities = JSON.parse(localStorage.getItem('activities')) || [];
            activities.unshift({
                time: new Date().toLocaleString('de-DE'),
                text: text
            });
            localStorage.setItem('activities', JSON.stringify(activities));
        }

        // --- SPA INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', function() {
            // If not logged in, show login page
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) {
                showPage('loginPage');
            } else {
                showPage('dashboardPage');
            }
        });
    </script>
</body>
</html>